{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/editor/node_modules/react-compiler-runtime/src/index.ts"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport * as React from 'react';\n\nconst {useRef, useEffect, isValidElement} = React;\nconst ReactSecretInternals =\n  //@ts-ignore\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE ??\n  //@ts-ignore\n  React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\ntype MemoCache = Array<number | typeof $empty>;\n\nconst $empty = Symbol.for('react.memo_cache_sentinel');\n\n// Re-export React.c if present, otherwise fallback to the userspace polyfill for versions of React\n// < 19.\nexport const c =\n  // @ts-expect-error\n  typeof React.__COMPILER_RUNTIME?.c === 'function'\n    ? // @ts-expect-error\n      React.__COMPILER_RUNTIME.c\n    : function c(size: number) {\n        return React.useMemo<Array<unknown>>(() => {\n          const $ = new Array(size);\n          for (let ii = 0; ii < size; ii++) {\n            $[ii] = $empty;\n          }\n          // This symbol is added to tell the react devtools that this array is from\n          // useMemoCache.\n          // @ts-ignore\n          $[$empty] = true;\n          return $;\n        }, []);\n      };\n\nconst LazyGuardDispatcher: {[key: string]: (...args: Array<any>) => any} = {};\n[\n  'readContext',\n  'useCallback',\n  'useContext',\n  'useEffect',\n  'useImperativeHandle',\n  'useInsertionEffect',\n  'useLayoutEffect',\n  'useMemo',\n  'useReducer',\n  'useRef',\n  'useState',\n  'useDebugValue',\n  'useDeferredValue',\n  'useTransition',\n  'useMutableSource',\n  'useSyncExternalStore',\n  'useId',\n  'unstable_isNewReconciler',\n  'getCacheSignal',\n  'getCacheForType',\n  'useCacheRefresh',\n].forEach(name => {\n  LazyGuardDispatcher[name] = () => {\n    throw new Error(\n      `[React] Unexpected React hook call (${name}) from a React compiled function. ` +\n        \"Check that all hooks are called directly and named according to convention ('use[A-Z]') \",\n    );\n  };\n});\n\nlet originalDispatcher: unknown = null;\n\n// Allow guards are not emitted for useMemoCache\nLazyGuardDispatcher['useMemoCache'] = (count: number) => {\n  if (originalDispatcher == null) {\n    throw new Error(\n      'React Compiler internal invariant violation: unexpected null dispatcher',\n    );\n  } else {\n    return (originalDispatcher as any).useMemoCache(count);\n  }\n};\n\nenum GuardKind {\n  PushGuardContext = 0,\n  PopGuardContext = 1,\n  PushExpectHook = 2,\n  PopExpectHook = 3,\n}\n\nfunction setCurrent(newDispatcher: any) {\n  ReactSecretInternals.ReactCurrentDispatcher.current = newDispatcher;\n  return ReactSecretInternals.ReactCurrentDispatcher.current;\n}\n\nconst guardFrames: Array<unknown> = [];\n\n/**\n * When `enableEmitHookGuards` is set, this does runtime validation\n * of the no-conditional-hook-calls rule.\n * As React Compiler needs to statically understand which calls to move out of\n * conditional branches (i.e. React Compiler cannot memoize the results of hook\n * calls), its understanding of \"the rules of React\" are more restrictive.\n * This validation throws on unsound inputs at runtime.\n *\n * Components should only be invoked through React as React Compiler could memoize\n * the call to AnotherComponent, introducing conditional hook calls in its\n * compiled output.\n * ```js\n * function Invalid(props) {\n *  const myJsx = AnotherComponent(props);\n *  return <div> { myJsx } </div>;\n * }\n *\n * Hooks must be named as hooks.\n * ```js\n * const renamedHook = useState;\n * function Invalid() {\n *   const [state, setState] = renamedHook(0);\n * }\n * ```\n *\n * Hooks must be directly called.\n * ```\n * function call(fn) {\n *  return fn();\n * }\n * function Invalid() {\n *   const result = call(useMyHook);\n * }\n * ```\n */\nexport function $dispatcherGuard(kind: GuardKind) {\n  const curr = ReactSecretInternals.ReactCurrentDispatcher.current;\n  if (kind === GuardKind.PushGuardContext) {\n    // Push before checking invariant or errors\n    guardFrames.push(curr);\n\n    if (guardFrames.length === 1) {\n      // save if we're the first guard on the stack\n      originalDispatcher = curr;\n    }\n\n    if (curr === LazyGuardDispatcher) {\n      throw new Error(\n        `[React] Unexpected call to custom hook or component from a React compiled function. ` +\n          \"Check that (1) all hooks are called directly and named according to convention ('use[A-Z]') \" +\n          'and (2) components are returned as JSX instead of being directly invoked.',\n      );\n    }\n    setCurrent(LazyGuardDispatcher);\n  } else if (kind === GuardKind.PopGuardContext) {\n    // Pop before checking invariant or errors\n    const lastFrame = guardFrames.pop();\n\n    if (lastFrame == null) {\n      throw new Error(\n        'React Compiler internal error: unexpected null in guard stack',\n      );\n    }\n    if (guardFrames.length === 0) {\n      originalDispatcher = null;\n    }\n    setCurrent(lastFrame);\n  } else if (kind === GuardKind.PushExpectHook) {\n    // ExpectHooks could be nested, so we save the current dispatcher\n    // for the matching PopExpectHook to restore.\n    guardFrames.push(curr);\n    setCurrent(originalDispatcher);\n  } else if (kind === GuardKind.PopExpectHook) {\n    const lastFrame = guardFrames.pop();\n    if (lastFrame == null) {\n      throw new Error(\n        'React Compiler internal error: unexpected null in guard stack',\n      );\n    }\n    setCurrent(lastFrame);\n  } else {\n    throw new Error('React Compiler internal error: unreachable block' + kind);\n  }\n}\n\nexport function $reset($: MemoCache) {\n  for (let ii = 0; ii < $.length; ii++) {\n    $[ii] = $empty;\n  }\n}\n\nexport function $makeReadOnly() {\n  throw new Error('TODO: implement $makeReadOnly in react-compiler-runtime');\n}\n\n/**\n * Instrumentation to count rerenders in React components\n */\nexport const renderCounterRegistry: Map<\n  string,\n  Set<{count: number}>\n> = new Map();\nexport function clearRenderCounterRegistry() {\n  for (const counters of renderCounterRegistry.values()) {\n    counters.forEach(counter => {\n      counter.count = 0;\n    });\n  }\n}\n\nfunction registerRenderCounter(name: string, val: {count: number}) {\n  let counters = renderCounterRegistry.get(name);\n  if (counters == null) {\n    counters = new Set();\n    renderCounterRegistry.set(name, counters);\n  }\n  counters.add(val);\n}\n\nfunction removeRenderCounter(name: string, val: {count: number}): void {\n  const counters = renderCounterRegistry.get(name);\n  if (counters == null) {\n    return;\n  }\n  counters.delete(val);\n}\n\nexport function useRenderCounter(name: string): void {\n  const val = useRef<{count: number}>(null);\n\n  if (val.current != null) {\n    val.current.count += 1;\n  }\n  useEffect(() => {\n    // Not counting initial render shouldn't be a problem\n    if (val.current == null) {\n      const counter = {count: 0};\n      registerRenderCounter(name, counter);\n      // @ts-ignore\n      val.current = counter;\n    }\n    return () => {\n      if (val.current !== null) {\n        removeRenderCounter(name, val.current);\n      }\n    };\n  });\n}\n\nconst seenErrors = new Set();\n\nexport function $structuralCheck(\n  oldValue: any,\n  newValue: any,\n  variableName: string,\n  fnName: string,\n  kind: string,\n  loc: string,\n): void {\n  function error(l: string, r: string, path: string, depth: number) {\n    const str = `${fnName}:${loc} [${kind}] ${variableName}${path} changed from ${l} to ${r} at depth ${depth}`;\n    if (seenErrors.has(str)) {\n      return;\n    }\n    seenErrors.add(str);\n    console.error(str);\n  }\n  const depthLimit = 2;\n  function recur(oldValue: any, newValue: any, path: string, depth: number) {\n    if (depth > depthLimit) {\n      return;\n    } else if (oldValue === newValue) {\n      return;\n    } else if (typeof oldValue !== typeof newValue) {\n      error(`type ${typeof oldValue}`, `type ${typeof newValue}`, path, depth);\n    } else if (typeof oldValue === 'object') {\n      const oldArray = Array.isArray(oldValue);\n      const newArray = Array.isArray(newValue);\n      if (oldValue === null && newValue !== null) {\n        error('null', `type ${typeof newValue}`, path, depth);\n      } else if (newValue === null) {\n        error(`type ${typeof oldValue}`, 'null', path, depth);\n      } else if (oldValue instanceof Map) {\n        if (!(newValue instanceof Map)) {\n          error(`Map instance`, `other value`, path, depth);\n        } else if (oldValue.size !== newValue.size) {\n          error(\n            `Map instance with size ${oldValue.size}`,\n            `Map instance with size ${newValue.size}`,\n            path,\n            depth,\n          );\n        } else {\n          for (const [k, v] of oldValue) {\n            if (!newValue.has(k)) {\n              error(\n                `Map instance with key ${k}`,\n                `Map instance without key ${k}`,\n                path,\n                depth,\n              );\n            } else {\n              recur(v, newValue.get(k), `${path}.get(${k})`, depth + 1);\n            }\n          }\n        }\n      } else if (newValue instanceof Map) {\n        error('other value', `Map instance`, path, depth);\n      } else if (oldValue instanceof Set) {\n        if (!(newValue instanceof Set)) {\n          error(`Set instance`, `other value`, path, depth);\n        } else if (oldValue.size !== newValue.size) {\n          error(\n            `Set instance with size ${oldValue.size}`,\n            `Set instance with size ${newValue.size}`,\n            path,\n            depth,\n          );\n        } else {\n          for (const v of newValue) {\n            if (!oldValue.has(v)) {\n              error(\n                `Set instance without element ${v}`,\n                `Set instance with element ${v}`,\n                path,\n                depth,\n              );\n            }\n          }\n        }\n      } else if (newValue instanceof Set) {\n        error('other value', `Set instance`, path, depth);\n      } else if (oldArray || newArray) {\n        if (oldArray !== newArray) {\n          error(\n            `type ${oldArray ? 'array' : 'object'}`,\n            `type ${newArray ? 'array' : 'object'}`,\n            path,\n            depth,\n          );\n        } else if (oldValue.length !== newValue.length) {\n          error(\n            `array with length ${oldValue.length}`,\n            `array with length ${newValue.length}`,\n            path,\n            depth,\n          );\n        } else {\n          for (let ii = 0; ii < oldValue.length; ii++) {\n            recur(oldValue[ii], newValue[ii], `${path}[${ii}]`, depth + 1);\n          }\n        }\n      } else if (isValidElement(oldValue) || isValidElement(newValue)) {\n        if (isValidElement(oldValue) !== isValidElement(newValue)) {\n          error(\n            `type ${isValidElement(oldValue) ? 'React element' : 'object'}`,\n            `type ${isValidElement(newValue) ? 'React element' : 'object'}`,\n            path,\n            depth,\n          );\n        } else if (oldValue.type !== newValue.type) {\n          error(\n            `React element of type ${oldValue.type}`,\n            `React element of type ${newValue.type}`,\n            path,\n            depth,\n          );\n        } else {\n          recur(\n            oldValue.props,\n            newValue.props,\n            `[props of ${path}]`,\n            depth + 1,\n          );\n        }\n      } else {\n        for (const key in newValue) {\n          if (!(key in oldValue)) {\n            error(\n              `object without key ${key}`,\n              `object with key ${key}`,\n              path,\n              depth,\n            );\n          }\n        }\n        for (const key in oldValue) {\n          if (!(key in newValue)) {\n            error(\n              `object with key ${key}`,\n              `object without key ${key}`,\n              path,\n              depth,\n            );\n          } else {\n            recur(oldValue[key], newValue[key], `${path}.${key}`, depth + 1);\n          }\n        }\n      }\n    } else if (typeof oldValue === 'function') {\n      // Bail on functions for now\n      return;\n    } else if (isNaN(oldValue) || isNaN(newValue)) {\n      if (isNaN(oldValue) !== isNaN(newValue)) {\n        error(\n          `${isNaN(oldValue) ? 'NaN' : 'non-NaN value'}`,\n          `${isNaN(newValue) ? 'NaN' : 'non-NaN value'}`,\n          path,\n          depth,\n        );\n      }\n    } else if (oldValue !== newValue) {\n      error(oldValue, newValue, path, depth);\n    }\n  }\n  recur(oldValue, newValue, '', 0);\n}\n"],"names":["_a","c","oldValue","newValue"],"mappings":"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","debugId":null}},
    {"offset": {"line": 324, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@portabletext/editor/node_modules/use-effect-event/dist/index.js","sources":["file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/editor/node_modules/use-effect-event/src/useEffectEvent.ts"],"sourcesContent":["import {useCallback, useInsertionEffect, useRef} from 'react'\n\n/**\n * This is a ponyfill of the upcoming `useEffectEvent` hook that'll arrive in React 19.\n * https://19.react.dev/learn/separating-events-from-effects#declaring-an-effect-event\n * To learn more about the ponyfill itself, see: https://blog.bitsrc.io/a-look-inside-the-useevent-polyfill-from-the-new-react-docs-d1c4739e8072\n * @public\n */\nexport function useEffectEvent<\n  const T extends (\n    ...args: // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    any[]\n  ) => void,\n>(fn: T): T {\n  const ref = useRef<T | null>(null)\n  useInsertionEffect(() => {\n    ref.current = fn\n  }, [fn])\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return useCallback((...args: any) => {\n    const latestFn = ref.current!\n    return latestFn(...args)\n  }, []) as unknown as T\n}\n"],"names":[],"mappings":";;;;;;AAQO,SAAS,eAKd,EAAA,EAAU;IACJ,MAAA,UAAM,uKAAA,EAAiB,IAAI;IACjC,WAAA,mLAAA;6CAAmB,MAAM;YACvB,IAAI,OAAA,GAAU;QAAA;4CACb;QAAC,EAAE;KAAC,OAEA,4KAAA;sCAAY;;gBAAI,SAAc;;YACnC,MAAM,WAAW,IAAI,OAAA;YACd,OAAA,SAAS,GAAG,IAAI;QACzB;qCAAG,CAAE,CAAA;AACP","debugId":null}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@portabletext/toolkit/dist/index.js","sources":["file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/toolkit/src/asserters.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/toolkit/src/sortMarksByOccurences.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/toolkit/src/buildMarksTree.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/toolkit/src/nestLists.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/toolkit/src/spanToPlainText.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/toolkit/src/toPlainText.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/toolkit/src/types.ts"],"sourcesContent":["import type {\n  ArbitraryTypedObject,\n  PortableTextBlock,\n  PortableTextListItemBlock,\n  PortableTextSpan,\n  TypedObject,\n} from '@portabletext/types'\n\nimport type {ToolkitNestedPortableTextSpan, ToolkitPortableTextList, ToolkitTextNode} from './types'\n\n/**\n * Strict check to determine if node is a correctly formatted Portable Text span.\n *\n * @param node - Node to check\n * @returns True if valid Portable Text span, otherwise false\n */\nexport function isPortableTextSpan(\n  node: ArbitraryTypedObject | PortableTextSpan,\n): node is PortableTextSpan {\n  return (\n    node._type === 'span' &&\n    'text' in node &&\n    typeof node.text === 'string' &&\n    (typeof node.marks === 'undefined' ||\n      (Array.isArray(node.marks) && node.marks.every((mark) => typeof mark === 'string')))\n  )\n}\n\n/**\n * Strict check to determine if node is a correctly formatted Portable Text block.\n *\n * @param node - Node to check\n * @returns True if valid Portable Text block, otherwise false\n */\nexport function isPortableTextBlock(\n  node: PortableTextBlock | TypedObject,\n): node is PortableTextBlock {\n  return (\n    // A block doesn't _have_ to be named 'block' - to differentiate between\n    // allowed child types and marks, one might name them differently\n    typeof node._type === 'string' &&\n    // Toolkit-types like nested spans are @-prefixed\n    node._type[0] !== '@' &&\n    // `markDefs` isn't _required_ per say, but if it's there, it needs to be an array\n    (!('markDefs' in node) ||\n      !node.markDefs ||\n      (Array.isArray(node.markDefs) &&\n        // Every mark definition needs to have an `_key` to be mappable in child spans\n        node.markDefs.every((def) => typeof def._key === 'string'))) &&\n    // `children` is required and needs to be an array\n    'children' in node &&\n    Array.isArray(node.children) &&\n    // All children are objects with `_type` (usually spans, but can contain other stuff)\n    node.children.every((child) => typeof child === 'object' && '_type' in child)\n  )\n}\n\n/**\n * Strict check to determine if node is a correctly formatted portable list item block.\n *\n * @param block - Block to check\n * @returns True if valid Portable Text list item block, otherwise false\n */\nexport function isPortableTextListItemBlock(\n  block: PortableTextBlock | TypedObject,\n): block is PortableTextListItemBlock {\n  return (\n    isPortableTextBlock(block) &&\n    'listItem' in block &&\n    typeof block.listItem === 'string' &&\n    (typeof block.level === 'undefined' || typeof block.level === 'number')\n  )\n}\n\n/**\n * Loose check to determine if block is a toolkit list node.\n * Only checks `_type`, assumes correct structure.\n *\n * @param block - Block to check\n * @returns True if toolkit list, otherwise false\n */\nexport function isPortableTextToolkitList(\n  block: TypedObject | ToolkitPortableTextList,\n): block is ToolkitPortableTextList {\n  return block._type === '@list'\n}\n\n/**\n * Loose check to determine if span is a toolkit span node.\n * Only checks `_type`, assumes correct structure.\n *\n * @param span - Span to check\n * @returns True if toolkit span, otherwise false\n */\nexport function isPortableTextToolkitSpan(\n  span: TypedObject | ToolkitNestedPortableTextSpan,\n): span is ToolkitNestedPortableTextSpan {\n  return span._type === '@span'\n}\n\n/**\n * Loose check to determine if node is a toolkit text node.\n * Only checks `_type`, assumes correct structure.\n *\n * @param node - Node to check\n * @returns True if toolkit text node, otherwise false\n */\nexport function isPortableTextToolkitTextNode(\n  node: TypedObject | ToolkitTextNode,\n): node is ToolkitTextNode {\n  return node._type === '@text'\n}\n","import type {PortableTextSpan, TypedObject} from '@portabletext/types'\n\nimport {isPortableTextSpan} from './asserters'\n\nconst knownDecorators = ['strong', 'em', 'code', 'underline', 'strike-through']\n\n/**\n * Figures out the optimal order of marks, in order to minimize the amount of\n * nesting/repeated elements in environments such as HTML. For instance, a naive\n * implementation might render something like:\n *\n * ```html\n * <strong>This block contains </strong>\n * <strong><a href=\"https://some.url/\">a link</a></strong>\n * <strong> and some bolded text</strong>\n * ```\n *\n * ...whereas an optimal order would be:\n *\n * ```html\n * <strong>\n *   This block contains <a href=\"https://some.url/\">a link</a> and some bolded text\n * </strong>\n * ```\n *\n * This is particularly necessary for cases like links, where you don't want multiple\n * individual links for different segments of the link text, even if parts of it are\n * bolded/italicized.\n *\n * This function is meant to be used like: `block.children.map(sortMarksByOccurences)`,\n * and is used internally in {@link buildMarksTree | `buildMarksTree()`}.\n *\n * The marks are sorted in the following order:\n *\n *  1. Marks that are shared amongst the most adjacent siblings\n *  2. Non-default marks (links, custom metadata)\n *  3. Decorators (bold, emphasis, code etc), in a predefined, preferred order\n *\n * @param span - The current span to sort\n * @param index - The index of the current span within the block\n * @param blockChildren - All children of the block being sorted\n * @returns Array of decorators and annotations, sorted by \"most adjacent siblings\"\n */\nexport function sortMarksByOccurences(\n  span: PortableTextSpan | TypedObject,\n  index: number,\n  blockChildren: (PortableTextSpan | TypedObject)[],\n): string[] {\n  if (!isPortableTextSpan(span) || !span.marks) {\n    return []\n  }\n\n  if (!span.marks.length) {\n    return []\n  }\n\n  // Slicing because we'll be sorting with `sort()`, which mutates\n  const marks = span.marks.slice()\n  const occurences: Record<string, number> = {}\n  marks.forEach((mark) => {\n    occurences[mark] = 1\n\n    for (let siblingIndex = index + 1; siblingIndex < blockChildren.length; siblingIndex++) {\n      const sibling = blockChildren[siblingIndex]\n\n      if (\n        sibling &&\n        isPortableTextSpan(sibling) &&\n        Array.isArray(sibling.marks) &&\n        sibling.marks.indexOf(mark) !== -1\n      ) {\n        occurences[mark]++\n      } else {\n        break\n      }\n    }\n  })\n\n  return marks.sort((markA, markB) => sortMarks(occurences, markA, markB))\n}\n\nfunction sortMarks<U extends string, T extends Record<U, number>>(\n  occurences: T,\n  markA: U,\n  markB: U,\n): number {\n  const aOccurences = occurences[markA]\n  const bOccurences = occurences[markB]\n\n  if (aOccurences !== bOccurences) {\n    return bOccurences - aOccurences\n  }\n\n  const aKnownPos = knownDecorators.indexOf(markA)\n  const bKnownPos = knownDecorators.indexOf(markB)\n\n  // Sort known decorators last\n  if (aKnownPos !== bKnownPos) {\n    return aKnownPos - bKnownPos\n  }\n\n  // Sort other marks simply by key\n  return markA.localeCompare(markB)\n}\n","import type {\n  ArbitraryTypedObject,\n  PortableTextBlock,\n  PortableTextMarkDefinition,\n} from '@portabletext/types'\n\nimport {isPortableTextSpan} from './asserters'\nimport {sortMarksByOccurences} from './sortMarksByOccurences'\nimport type {ToolkitNestedPortableTextSpan, ToolkitTextNode} from './types'\n\n/**\n * Takes a Portable Text block and returns a nested tree of nodes optimized for rendering\n * in HTML-like environments where you want marks/annotations to be nested inside of eachother.\n * For instance, a naive span-by-span rendering might yield:\n *\n * ```html\n * <strong>This block contains </strong>\n * <strong><a href=\"https://some.url/\">a link</a></strong>\n * <strong> and some bolded and </strong>\n * <em><strong>italicized text</strong></em>\n * ```\n *\n * ...whereas an optimal order would be:\n *\n * ```html\n * <strong>\n *   This block contains <a href=\"https://some.url/\">a link</a>\n *   and some bolded and <em>italicized text</em>\n * </strong>\n * ```\n *\n * Note that since \"native\" Portable Text spans cannot be nested,\n * this function returns an array of \"toolkit specific\" types:\n * {@link ToolkitTextNode | `@text`} and {@link ToolkitNestedPortableTextSpan | `@span` }.\n *\n * The toolkit-specific type can hold both types, as well as any arbitrary inline objects,\n * creating an actual tree.\n *\n * @param block - The Portable Text block to create a tree of nodes from\n * @returns Array of (potentially) nested spans, text nodes and/or arbitrary inline objects\n */\nexport function buildMarksTree<M extends PortableTextMarkDefinition = PortableTextMarkDefinition>(\n  block: PortableTextBlock<M>,\n): (ToolkitNestedPortableTextSpan<M> | ToolkitTextNode | ArbitraryTypedObject)[] {\n  const {children} = block\n  const markDefs = block.markDefs ?? []\n  if (!children || !children.length) {\n    return []\n  }\n\n  const sortedMarks = children.map(sortMarksByOccurences)\n\n  const rootNode: ToolkitNestedPortableTextSpan<M> = {\n    _type: '@span',\n    children: [],\n    markType: '<unknown>',\n  }\n\n  let nodeStack: ToolkitNestedPortableTextSpan<M>[] = [rootNode]\n\n  for (let i = 0; i < children.length; i++) {\n    const span = children[i]\n    if (!span) {\n      continue\n    }\n\n    const marksNeeded = sortedMarks[i] || []\n    let pos = 1\n\n    // Start at position one. Root is always plain and should never be removed\n    if (nodeStack.length > 1) {\n      for (pos; pos < nodeStack.length; pos++) {\n        const mark = nodeStack[pos]?.markKey || ''\n        const index = marksNeeded.indexOf(mark)\n\n        if (index === -1) {\n          break\n        }\n\n        marksNeeded.splice(index, 1)\n      }\n    }\n\n    // Keep from beginning to first miss\n    nodeStack = nodeStack.slice(0, pos)\n\n    // Add needed nodes\n    let currentNode = nodeStack[nodeStack.length - 1]\n    if (!currentNode) {\n      continue\n    }\n\n    for (const markKey of marksNeeded) {\n      const markDef = markDefs?.find((def) => def._key === markKey)\n      const markType = markDef ? markDef._type : markKey\n      const node: ToolkitNestedPortableTextSpan<M> = {\n        _type: '@span',\n        _key: span._key,\n        children: [],\n        markDef,\n        markType,\n        markKey,\n      }\n\n      currentNode.children.push(node)\n      nodeStack.push(node)\n      currentNode = node\n    }\n\n    // Split at newlines to make individual line chunks, but keep newline\n    // characters as individual elements in the array. We use these characters\n    // in the span serializer to trigger hard-break rendering\n    if (isPortableTextSpan(span)) {\n      const lines = span.text.split('\\n')\n      for (let line = lines.length; line-- > 1; ) {\n        lines.splice(line, 0, '\\n')\n      }\n\n      currentNode.children = currentNode.children.concat(\n        lines.map((text) => ({_type: '@text', text})),\n      )\n    } else {\n      // This is some other inline object, not a text span\n      currentNode.children = currentNode.children.concat(span)\n    }\n  }\n\n  return rootNode.children\n}\n","import type {PortableTextBlock, PortableTextListItemBlock, TypedObject} from '@portabletext/types'\n\nimport {\n  isPortableTextListItemBlock,\n  isPortableTextSpan,\n  isPortableTextToolkitList,\n} from './asserters'\nimport type {\n  ToolkitListNestMode,\n  ToolkitPortableTextDirectList,\n  ToolkitPortableTextHtmlList,\n  ToolkitPortableTextList,\n  ToolkitPortableTextListItem,\n} from './types'\n\nexport type ToolkitNestListsOutputNode<T> =\n  | T\n  | ToolkitPortableTextHtmlList\n  | ToolkitPortableTextDirectList\n\n/**\n * Takes an array of blocks and returns an array of nodes optimized for rendering in HTML-like\n * environment, where lists are nested inside of eachother instead of appearing \"flat\" as in\n * native Portable Text data structures.\n *\n * Note that the list node is not a native Portable Text node type, and thus is represented\n * using the {@link ToolkitPortableTextList | `@list`} type name (`{_type: '@list'}`).\n *\n * The nesting can be configured in two modes:\n *\n * - `direct`: deeper list nodes will appear as a direct child of the parent list\n * - `html`, deeper list nodes will appear as a child of the last _list item_ in the parent list\n *\n * When using `direct`, all list nodes will be of type {@link ToolkitPortableTextDirectList},\n * while with `html` they will be of type {@link ToolkitPortableTextHtmlList}\n *\n * These modes are available as {@link LIST_NEST_MODE_HTML} and {@link LIST_NEST_MODE_DIRECT}.\n *\n * @param blocks - Array of Portable Text blocks and other arbitrary types\n * @param mode - Mode to use for nesting, `direct` or `html`\n * @returns Array of potentially nested nodes optimized for rendering\n */\nexport function nestLists<T extends TypedObject = PortableTextBlock | TypedObject>(\n  blocks: T[],\n  mode: 'direct',\n): (T | ToolkitPortableTextDirectList)[]\nexport function nestLists<T extends TypedObject = PortableTextBlock | TypedObject>(\n  blocks: T[],\n  mode: 'html',\n): (T | ToolkitPortableTextHtmlList)[]\nexport function nestLists<T extends TypedObject = PortableTextBlock | TypedObject>(\n  blocks: T[],\n  mode: 'direct' | 'html',\n): (T | ToolkitPortableTextHtmlList | ToolkitPortableTextDirectList)[]\nexport function nestLists<T extends TypedObject = PortableTextBlock | TypedObject>(\n  blocks: T[],\n  mode: ToolkitListNestMode,\n): ToolkitNestListsOutputNode<T>[] {\n  const tree: ToolkitNestListsOutputNode<T>[] = []\n  let currentList: ToolkitPortableTextList | undefined\n\n  for (let i = 0; i < blocks.length; i++) {\n    const block = blocks[i]\n    if (!block) {\n      continue\n    }\n\n    if (!isPortableTextListItemBlock(block)) {\n      tree.push(block)\n      currentList = undefined\n      continue\n    }\n\n    // Start of a new list?\n    if (!currentList) {\n      currentList = listFromBlock(block, i, mode)\n      tree.push(currentList)\n      continue\n    }\n\n    // New list item within same list?\n    if (blockMatchesList(block, currentList)) {\n      currentList.children.push(block)\n      continue\n    }\n\n    // Different list props, are we going deeper?\n    if ((block.level || 1) > currentList.level) {\n      const newList = listFromBlock(block, i, mode)\n\n      if (mode === 'html') {\n        // Because HTML is kinda weird, nested lists needs to be nested within list items.\n        // So while you would think that we could populate the parent list with a new sub-list,\n        // we actually have to target the last list element (child) of the parent.\n        // However, at this point we need to be very careful - simply pushing to the list of children\n        // will mutate the input, and we don't want to blindly clone the entire tree.\n\n        // Clone the last child while adding our new list as the last child of it\n        const lastListItem = currentList.children[\n          currentList.children.length - 1\n        ] as ToolkitPortableTextListItem\n\n        const newLastChild: ToolkitPortableTextListItem = {\n          ...lastListItem,\n          children: [...lastListItem.children, newList],\n        }\n\n        // Swap the last child\n        currentList.children[currentList.children.length - 1] = newLastChild\n      } else {\n        ;(currentList as ToolkitPortableTextDirectList).children.push(\n          newList as ToolkitPortableTextDirectList,\n        )\n      }\n\n      // Set the newly created, deeper list as the current\n      currentList = newList\n      continue\n    }\n\n    // Different list props, are we going back up the tree?\n    if ((block.level || 1) < currentList.level) {\n      // Current list has ended, and we need to hook up with a parent of the same level and type\n      const matchingBranch = tree[tree.length - 1]\n      const match = matchingBranch && findListMatching(matchingBranch, block)\n      if (match) {\n        currentList = match\n        currentList.children.push(block)\n        continue\n      }\n\n      // Similar parent can't be found, assume new list\n      currentList = listFromBlock(block, i, mode)\n      tree.push(currentList)\n      continue\n    }\n\n    // Different list props, different list style?\n    if (block.listItem !== currentList.listItem) {\n      const matchingBranch = tree[tree.length - 1]\n      const match = matchingBranch && findListMatching(matchingBranch, {level: block.level || 1})\n      if (match && match.listItem === block.listItem) {\n        currentList = match\n        currentList.children.push(block)\n        continue\n      } else {\n        currentList = listFromBlock(block, i, mode)\n        tree.push(currentList)\n        continue\n      }\n    }\n\n    // eslint-disable-next-line no-console\n    console.warn('Unknown state encountered for block', block)\n    tree.push(block)\n  }\n\n  return tree\n}\n\nfunction blockMatchesList(block: PortableTextBlock, list: ToolkitPortableTextList) {\n  return (block.level || 1) === list.level && block.listItem === list.listItem\n}\n\nfunction listFromBlock(\n  block: PortableTextListItemBlock,\n  index: number,\n  mode: ToolkitListNestMode,\n): ToolkitPortableTextList {\n  return {\n    _type: '@list',\n    _key: `${block._key || `${index}`}-parent`,\n    mode,\n    level: block.level || 1,\n    listItem: block.listItem,\n    children: [block],\n  }\n}\n\nfunction findListMatching<T extends TypedObject | PortableTextBlock>(\n  rootNode: T,\n  matching: Partial<PortableTextListItemBlock>,\n): ToolkitPortableTextList | undefined {\n  const level = matching.level || 1\n  const style = matching.listItem || 'normal'\n  const filterOnType = typeof matching.listItem === 'string'\n  if (\n    isPortableTextToolkitList(rootNode) &&\n    (rootNode.level || 1) === level &&\n    filterOnType &&\n    (rootNode.listItem || 'normal') === style\n  ) {\n    return rootNode\n  }\n\n  if (!('children' in rootNode)) {\n    return undefined\n  }\n\n  const node = rootNode.children[rootNode.children.length - 1]\n  return node && !isPortableTextSpan(node) ? findListMatching(node, matching) : undefined\n}\n","import {isPortableTextToolkitSpan, isPortableTextToolkitTextNode} from './asserters'\nimport type {ToolkitNestedPortableTextSpan} from './types'\n\n/**\n * Returns the plain-text representation of a\n * {@link ToolkitNestedPortableTextSpan | toolkit-specific Portable Text span}.\n *\n * Useful if you have a subset of nested nodes and want the text from just those,\n * instead of for the entire Portable Text block.\n *\n * @param span - Span node to get text from (Portable Text toolkit specific type)\n * @returns The plain-text version of the span\n */\nexport function spanToPlainText(span: ToolkitNestedPortableTextSpan): string {\n  let text = ''\n  span.children.forEach((current) => {\n    if (isPortableTextToolkitTextNode(current)) {\n      text += current.text\n    } else if (isPortableTextToolkitSpan(current)) {\n      text += spanToPlainText(current)\n    }\n  })\n  return text\n}\n","import type {ArbitraryTypedObject, PortableTextBlock} from '@portabletext/types'\n\nimport {isPortableTextBlock, isPortableTextSpan} from './asserters'\n\nconst leadingSpace = /^\\s/\nconst trailingSpace = /\\s$/\n\n/**\n * Takes a Portable Text block (or an array of them) and returns the text value\n * of all the Portable Text span nodes. Adds whitespace when encountering inline,\n * non-span nodes to ensure text flow is optimal.\n *\n * Note that this only accounts for regular Portable Text blocks - any text inside\n * custom content types are not included in the output.\n *\n * @param block - Single block or an array of blocks to extract text from\n * @returns The plain-text content of the blocks\n */\nexport function toPlainText(\n  block: PortableTextBlock | ArbitraryTypedObject[] | PortableTextBlock[],\n): string {\n  const blocks = Array.isArray(block) ? block : [block]\n  let text = ''\n\n  blocks.forEach((current, index) => {\n    if (!isPortableTextBlock(current)) {\n      return\n    }\n\n    let pad = false\n    current.children.forEach((span) => {\n      if (isPortableTextSpan(span)) {\n        // If the previous element was a non-span, and we have no natural whitespace\n        // between the previous and the next span, insert it to give the spans some\n        // room to breathe. However, don't do so if this is the first span.\n        text += pad && text && !trailingSpace.test(text) && !leadingSpace.test(span.text) ? ' ' : ''\n        text += span.text\n        pad = false\n      } else {\n        pad = true\n      }\n    })\n\n    if (index !== blocks.length - 1) {\n      text += '\\n\\n'\n    }\n  })\n\n  return text\n}\n","import type {\n  ArbitraryTypedObject,\n  PortableTextListItemBlock,\n  PortableTextMarkDefinition,\n  PortableTextSpan,\n} from '@portabletext/types'\n\n/**\n * List nesting mode for HTML, see the {@link nestLists | `nestLists()` function}\n */\nexport const LIST_NEST_MODE_HTML = 'html'\n\n/**\n * List nesting mode for direct, nested lists, see the {@link nestLists | `nestLists()` function}\n */\nexport const LIST_NEST_MODE_DIRECT = 'direct'\n\n/**\n * List nesting mode, see the {@link nestLists | `nestLists()` function}\n */\nexport type ToolkitListNestMode = 'html' | 'direct'\n\n/**\n * Toolkit-specific type representing a nested list\n *\n * See the `nestLists()` function for more info\n */\nexport type ToolkitPortableTextList = ToolkitPortableTextHtmlList | ToolkitPortableTextDirectList\n\n/**\n * Toolkit-specific type representing a nested list in HTML mode, where deeper lists are nested\n * inside of the _list items_, eg `<ul><li>Some text<ul><li>Deeper</li></ul></li></ul>`\n */\nexport interface ToolkitPortableTextHtmlList {\n  /**\n   * Type name, prefixed with `@` to signal that this is a toolkit-specific node.\n   */\n  _type: '@list'\n\n  /**\n   * Unique key for this list (within its parent)\n   */\n  _key: string\n\n  /**\n   * List mode, signaling that list nodes will appear as children of the _list items_\n   */\n  mode: 'html'\n\n  /**\n   * Level/depth of this list node (starts at `1`)\n   */\n  level: number\n\n  /**\n   * Style of this list item (`bullet`, `number` are common values, but can be customized)\n   */\n  listItem: string\n\n  /**\n   * Child nodes of this list - toolkit-specific list items which can themselves hold deeper lists\n   */\n  children: ToolkitPortableTextListItem[]\n}\n\n/**\n * Toolkit-specific type representing a nested list in \"direct\" mode, where deeper lists are nested\n * inside of the lists children, alongside other blocks.\n */\nexport interface ToolkitPortableTextDirectList {\n  /**\n   * Type name, prefixed with `@` to signal that this is a toolkit-specific node.\n   */\n  _type: '@list'\n\n  /**\n   * Unique key for this list (within its parent)\n   */\n  _key: string\n\n  /**\n   * List mode, signaling that list nodes can appear as direct children\n   */\n  mode: 'direct'\n\n  /**\n   * Level/depth of this list node (starts at `1`)\n   */\n  level: number\n\n  /**\n   * Style of this list item (`bullet`, `number` are common values, but can be customized)\n   */\n  listItem: string\n\n  /**\n   * Child nodes of this list - either portable text list items, or another, deeper list\n   */\n  children: (PortableTextListItemBlock | ToolkitPortableTextDirectList)[]\n}\n\n/**\n * Toolkit-specific type representing a list item block, but where the children can be another list\n */\nexport interface ToolkitPortableTextListItem\n  extends PortableTextListItemBlock<\n    PortableTextMarkDefinition,\n    PortableTextSpan | ToolkitPortableTextList\n  > {}\n\n/**\n * Toolkit-specific type representing a text node, used when nesting spans.\n *\n * See the {@link buildMarksTree | `buildMarksTree()` function}\n */\nexport interface ToolkitTextNode {\n  /**\n   * Type name, prefixed with `@` to signal that this is a toolkit-specific node.\n   */\n  _type: '@text'\n\n  /**\n   * The actual string value of the text node\n   */\n  text: string\n}\n\n/**\n * Toolkit-specific type representing a portable text span that can hold other spans.\n * In this type, each span only has a single mark, instead of an array of them.\n */\nexport interface ToolkitNestedPortableTextSpan<\n  M extends PortableTextMarkDefinition = PortableTextMarkDefinition,\n> {\n  /**\n   * Type name, prefixed with `@` to signal that this is a toolkit-specific node.\n   */\n  _type: '@span'\n\n  /**\n   * Unique key for this span\n   */\n  _key?: string\n\n  /**\n   * Holds the value (definition) of the mark in the case of annotations.\n   * `undefined` if the mark is a decorator (strong, em or similar).\n   */\n  markDef?: M\n\n  /**\n   * The key of the mark definition (in the case of annotations).\n   * `undefined` if the mark is a decorator (strong, em or similar).\n   */\n  markKey?: string\n\n  /**\n   * Type of the mark. For annotations, this is the `_type` property of the value.\n   * For decorators, it will hold the name of the decorator (strong, em or similar).\n   */\n  markType: string\n\n  /**\n   * Child nodes of this span. Can be toolkit-specific text nodes, nested spans\n   * or any inline object type.\n   */\n  children: (\n    | ToolkitTextNode\n    | ToolkitNestedPortableTextSpan<PortableTextMarkDefinition>\n    | ArbitraryTypedObject\n  )[]\n}\n"],"names":["isPortableTextSpan","node","_type","text","marks","Array","isArray","every","mark","isPortableTextBlock","markDefs","def","_key","children","child","isPortableTextListItemBlock","block","listItem","level","isPortableTextToolkitList","isPortableTextToolkitSpan","span","isPortableTextToolkitTextNode","knownDecorators","sortMarksByOccurences","index","blockChildren","length","slice","occurences","forEach","siblingIndex","sibling","indexOf","sort","markA","markB","sortMarks","aOccurences","bOccurences","aKnownPos","bKnownPos","localeCompare","buildMarksTree","_a","_b","sortedMarks","map","rootNode","markType","nodeStack","i","marksNeeded","pos","markKey","splice","currentNode","markDef","find","push","lines","split","line","concat","nestLists","blocks","mode","tree","currentList","listFromBlock","blockMatchesList","newList","lastListItem","newLastChild","_objectSpread","matchingBranch","match","findListMatching","console","warn","list","matching","style","filterOnType","spanToPlainText","current","leadingSpace","trailingSpace","toPlainText","pad","test","LIST_NEST_MODE_HTML","LIST_NEST_MODE_DIRECT"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBO,SAASA,mBACdC,IAC0B,EAAA;IAExB,OAAAA,IAAA,CAAKC,KAAU,KAAA,MAAA,IACf,MAAU,IAAAD,IAAA,IACV,OAAOA,IAAK,CAAAE,IAAA,IAAS,QACpB,IAAA,CAAA,OAAOF,IAAK,CAAAG,KAAA,GAAU,OACpBC,KAAM,CAAAC,OAAA,CAAQL,IAAK,CAAAG,KAAK,CAAK,IAAAH,IAAA,CAAKG,KAAM,CAAAG,KAAA,EAAOC,IAAA,GAAS,OAAOA,IAAA,IAAS,QAAQ,CAAA,CAAA;AAEvF;AAQO,SAASC,oBACdR,IAC2B,EAAA;IAC3B,OAAA,wEAAA;IAAA,iEAAA;IAGE,OAAOA,KAAKC,KAAU,IAAA,QAAA,IAAA,iDAAA;IAEtBD,IAAA,CAAKC,KAAM,CAAA,CAAC,CAAM,KAAA,GAAA,IAAA,CAAA,kFAAA;IAEjB,CAAA,CAAE,cAAcD,IACf,CAAA,IAAA,CAACA,KAAKS,QACL,IAAAL,KAAA,CAAMC,OAAQ,CAAAL,IAAA,CAAKS,QAAQ,CAAA,IAAA,8EAAA;IAE1BT,IAAA,CAAKS,QAAAA,CAASH,KAAM,CAACI,OAAQ,OAAOA,GAAA,CAAIC,IAAAA,IAAS,QAAQ,CAAA,CAAA,IAAA,kDAAA;IAE7D,UAAc,IAAAX,IAAA,IACdI,KAAM,CAAAC,OAAA,CAAQL,KAAKY,QAAQ,CAAA,IAAA,qFAAA;IAE3BZ,IAAA,CAAKY,QAAAA,CAASN,KAAM,EAACO,QAAU,OAAOA,KAAA,IAAU,QAAY,IAAA,OAAA,IAAWA,KAAK;AAEhF;AAQO,SAASC,4BACdC,KACoC,EAAA;IACpC,OACEP,mBAAoB,CAAAO,KAAK,CACzB,IAAA,UAAA,IAAcA,SACd,OAAOA,KAAA,CAAMC,QAAa,IAAA,QAAA,IAAA,CACzB,OAAOD,KAAM,CAAAE,KAAA,GAAU,GAAe,IAAA,OAAOF,MAAME,KAAU,IAAA,QAAA,CAAA;AAElE;AASO,SAASC,0BACdH,KACkC,EAAA;IAClC,OAAOA,MAAMd,KAAU,KAAA,OAAA;AACzB;AASO,SAASkB,0BACdC,IACuC,EAAA;IACvC,OAAOA,KAAKnB,KAAU,KAAA,OAAA;AACxB;AASO,SAASoB,8BACdrB,IACyB,EAAA;IACzB,OAAOA,KAAKC,KAAU,KAAA,OAAA;AACxB;AC3GA,MAAMqB,kBAAkB;IAAC,QAAA;IAAU,IAAM;IAAA,MAAA;IAAQ;IAAa,gBAAgB;CAAA;AAuC9D,SAAAC,qBAAAA,CACdH,IACA,EAAAI,KAAA,EACAC,aACU,EAAA;IACV,IAAI,CAAC1B,kBAAA,CAAmBqB,IAAI,CAAA,IAAK,CAACA,IAAK,CAAAjB,KAAA,EACrC,OAAO,EAAA;IAGL,IAAA,CAACiB,KAAKjB,KAAM,CAAAuB,MAAA,EACd,OAAO,EAAA;IAIT,MAAMvB,QAAQiB,IAAK,CAAAjB,KAAA,CAAMwB,KAAM,CAAA,CAAA,EACzBC,aAAqC,CAAA;IACrC,OAAAzB,KAAA,CAAA0B,OAAQ,EAACtB,IAAS,IAAA;QACtBqB,UAAA,CAAWrB,IAAI,CAAI,GAAA,CAAA;QAEnB,IAAA,IAASuB,eAAeN,KAAQ,GAAA,CAAA,EAAGM,YAAe,GAAAL,aAAA,CAAcC,MAAAA,EAAQI,YAAgB,EAAA,CAAA;YAChF,MAAAC,OAAA,GAAUN,aAAAA,CAAcK,YAAY,CAAA;YAE1C,IACEC,OACA,IAAAhC,kBAAA,CAAmBgC,OAAO,CAAA,IAC1B3B,KAAM,CAAAC,OAAA,CAAQ0B,OAAQ,CAAA5B,KAAK,CAC3B,IAAA4B,OAAA,CAAQ5B,KAAM,CAAA6B,OAAA,CAAQzB,IAAI,CAAM,KAAA,CAAA,CAAA,EAEhCqB,UAAA,CAAWrB,IAAI,CAAA,EAAA,CAAA;iBAEf;QAEJ;IACD,CAAA,CAEM,EAAAJ,KAAA,CAAM8B,IAAK,CAAA,CAACC,KAAO,EAAAC,KAAA,GAAUC,SAAU,CAAAR,UAAA,EAAYM,KAAO,EAAAC,KAAK,CAAC,CAAA;AACzE;AAEA,SAASC,SAAAA,CACPR,UACA,EAAAM,KAAA,EACAC,KACQ,EAAA;IACR,MAAME,cAAcT,UAAW,CAAAM,KAAK,CAC9B,EAAAI,WAAA,GAAcV,UAAAA,CAAWO,KAAK,CAAA;IAEpC,IAAIE,WAAgB,KAAAC,WAAA,EAClB,OAAOA,WAAc,GAAAD,WAAA;IAGjB,MAAAE,SAAA,GAAYjB,gBAAgBU,OAAQ,CAAAE,KAAK,GACzCM,SAAY,GAAAlB,eAAA,CAAgBU,OAAAA,CAAQG,KAAK,CAAA;IAG/C,OAAII,cAAcC,SACT,GAAAD,SAAA,GAAYC,SAId,GAAAN,KAAA,CAAMO,aAAAA,CAAcN,KAAK,CAAA;AAClC;AC9DO,SAASO,eACd3B,KAC+E,EAAA;IA3CjF,IAAA4B,EAAA,EAAAC,EAAA;IA4CQ,MAAA,EAAChC,QAAAA,KAAYG,KACb,EAAAN,QAAA,GAAA,CAAWkC,KAAM5B,KAAA,CAAAN,QAAA,KAAN,OAAA,KAAkB,EAAA;IAC/B,IAAA,CAACG,QAAY,IAAA,CAACA,QAAS,CAAAc,MAAA,EACzB,OAAO,EAAA;IAGT,MAAMmB,WAAc,GAAAjC,QAAA,CAASkC,GAAI,CAAAvB,qBAAqB,GAEhDwB,QAA6C,GAAA;QACjD9C,KAAO,EAAA,OAAA;QACPW,UAAU,EAAC;QACXoC,QAAU,EAAA;IAAA,CAAA;IAGR,IAAAC,SAAA,GAAgD;QAACF,QAAQ;KAAA;IAE7D,IAAA,IAASG,CAAI,GAAA,CAAA,EAAGA,CAAI,GAAAtC,QAAA,CAASc,MAAAA,EAAQwB,CAAK,EAAA,CAAA;QAClC,MAAA9B,IAAA,GAAOR,QAAAA,CAASsC,CAAC,CAAA;QACvB,IAAI,CAAC9B,IAAA,EACH;QAGF,MAAM+B,WAAc,GAAAN,WAAA,CAAYK,CAAC,CAAA,IAAK,EAAA;QACtC,IAAIE,GAAM,GAAA,CAAA;QAGV,IAAIH,UAAUvB,MAAS,GAAA,CAAA,EACrB,IAAK0B,GAAK,EAAAA,GAAA,GAAMH,SAAU,CAAAvB,MAAA,EAAQ0B,GAAO,EAAA,CAAA;YACjC,MAAA7C,IAAO,GAAA,CAAA,CAAAqC,EAAA,GAAUK,SAAA,CAAAG,GAAG,CAAb,KAAA,IAAA,GAAA,KAAA,CAAA,GAAAR,EAAA,CAAgBS,OAAW,KAAA,EAAA,EAClC7B,KAAQ,GAAA2B,WAAA,CAAYnB,OAAAA,CAAQzB,IAAI,CAAA;YAEtC,IAAIiB,KAAU,KAAA,CAAA,CAAA,EACZ;YAGU2B,WAAA,CAAAG,MAAA,CAAO9B,OAAO,CAAC,CAAA;QAC7B;QAIUyB,SAAA,GAAAA,SAAA,CAAUtB,KAAM,CAAA,CAAA,EAAGyB,GAAG,CAAA;QAGlC,IAAIG,WAAc,GAAAN,SAAA,CAAUA,SAAU,CAAAvB,MAAA,GAAS,CAAC,CAAA;QAChD,IAAK6B,WAIL,EAAA;YAAA,KAAA,MAAWF,WAAWF,WAAa,CAAA;gBACjC,MAAMK,UAAU/C,QAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAAA,QAAA,CAAUgD,IAAAA,EAAM/C,GAAA,GAAQA,GAAI,CAAAC,IAAA,KAAS0C,OAAA,CAC/C,EAAAL,QAAA,GAAWQ,UAAUA,OAAQ,CAAAvD,KAAA,GAAQoD,SACrCrD,IAAyC,GAAA;oBAC7CC,KAAO,EAAA,OAAA;oBACPU,MAAMS,IAAK,CAAAT,IAAA;oBACXC,UAAU,EAAC;oBACX4C,OAAA;oBACAR,QAAA;oBACAK;gBAAA,CAAA;gBAGUE,WAAA,CAAA3C,QAAA,CAAS8C,IAAAA,CAAK1D,IAAI,CAAA,EAC9BiD,UAAUS,IAAK,CAAA1D,IAAI,GACnBuD,WAAc,GAAAvD,IAAA;YAChB;YAKI,IAAAD,kBAAA,CAAmBqB,IAAI,CAAG,EAAA;gBACtB,MAAAuC,KAAA,GAAQvC,IAAK,CAAAlB,IAAA,CAAK0D,KAAM,CAAA;gBACrB,IAAA,IAAAC,IAAA,GAAOF,KAAM,CAAAjC,MAAA,EAAQmC,IAAS,EAAA,GAAA,CAAA,EAC/BF,KAAA,CAAAL,MAAA,CAAOO,MAAM,CAAG,EAAA;gBAGZN,WAAA,CAAA3C,QAAA,GAAW2C,YAAY3C,QAAS,CAAAkD,MAAA,CAC1CH,KAAA,CAAMb,GAAAA,EAAK5C,IAAA,GAAA,CAAU;wBAACD,KAAO,EAAA,OAAA;wBAASC;qBAAM,CAAA,CAAA,CAAA;YAEhD,CAAA,MAEEqD,WAAA,CAAY3C,QAAW,GAAA2C,WAAA,CAAY3C,QAAS,CAAAkD,MAAA,CAAO1C,IAAI,CAAA;QAAA;IAE3D;IAEA,OAAO2B,QAAS,CAAAnC,QAAA;AAClB;AC1EgB,SAAAmD,SAAAA,CACdC,MAAAA,EACAC,IACiC,EAAA;IACjC,MAAMC,OAAwC,EAAA;IAC1C,IAAAC,WAAA;IAEJ,IAAA,IAASjB,CAAI,GAAA,CAAA,EAAGA,CAAI,GAAAc,MAAA,CAAOtC,MAAAA,EAAQwB,CAAK,EAAA,CAAA;QAChC,MAAAnC,KAAA,GAAQiD,MAAAA,CAAOd,CAAC,CAAA;QACtB,IAAKnC,KAIL,EAAA;YAAI,IAAA,CAACD,2BAA4B,CAAAC,KAAK,CAAG,EAAA;gBAClCmD,IAAA,CAAAR,IAAA,CAAK3C,KAAK,CAAA,EACfoD,WAAc,GAAA,KAAA,CAAA;gBACd;YACF;YAGA,IAAI,CAACA,WAAa,EAAA;gBAChBA,WAAA,GAAcC,cAAcrD,KAAO,EAAAmC,CAAA,EAAGe,IAAI,CAC1C,EAAAC,IAAA,CAAKR,IAAAA,CAAKS,WAAW,CAAA;gBACrB;YACF;YAGI,IAAAE,gBAAA,CAAiBtD,KAAO,EAAAoD,WAAW,CAAG,EAAA;gBAC5BA,WAAA,CAAAvD,QAAA,CAAS8C,IAAAA,CAAK3C,KAAK,CAAA;gBAC/B;YACF;YAGA,IAAA,CAAKA,KAAM,CAAAE,KAAA,IAAS,CAAK,IAAAkD,WAAA,CAAYlD,KAAO,EAAA;gBAC1C,MAAMqD,OAAU,GAAAF,aAAA,CAAcrD,KAAO,EAAAmC,CAAA,EAAGe,IAAI,CAAA;gBAE5C,IAAIA,SAAS,MAAQ,EAAA;oBAQb,MAAAM,YAAA,GAAeJ,YAAYvD,QAC/B,CAAAuD,WAAA,CAAYvD,QAAAA,CAASc,MAAS,GAAA,CAChC,CAAA,EAEM8C,YAA4C,GAAAC,aAAA,CAAAA,aAAA,CAAA,CAAA,GAC7CF,YAAA,GAAA,CAAA,GAAA;wBACH3D,QAAU,EAAA,CAAC;+BAAG2D,YAAA,CAAa3D,QAAAA;4BAAU0D,OAAO;yBAAA;oBAAA,EAAA;oBAI9CH,WAAA,CAAYvD,QAAS,CAAAuD,WAAA,CAAYvD,QAAS,CAAAc,MAAA,GAAS,CAAC,CAAI,GAAA8C,YAAA;gBAC1D,CAAA,MACIL,WAAA,CAA8CvD,QAAS,CAAA8C,IAAA,CACvDY,OAAA,CAAA;gBAKUH,WAAA,GAAAG,OAAA;gBACd;YACF;YAGA,IAAA,CAAKvD,KAAM,CAAAE,KAAA,IAAS,CAAK,IAAAkD,WAAA,CAAYlD,KAAO,EAAA;gBAEpC,MAAAyD,cAAA,GAAiBR,IAAK,CAAAA,IAAA,CAAKxC,MAAS,GAAA,CAAC,CAAA,EACrCiD,KAAQ,GAAAD,cAAA,IAAkBE,gBAAiB,CAAAF,cAAA,EAAgB3D,KAAK,CAAA;gBACtE,IAAI4D,KAAO,EAAA;oBACTR,WAAA,GAAcQ,KACd,EAAAR,WAAA,CAAYvD,QAAS,CAAA8C,IAAA,CAAK3C,KAAK,CAAA;oBAC/B;gBACF;gBAGAoD,WAAA,GAAcC,cAAcrD,KAAO,EAAAmC,CAAA,EAAGe,IAAI,CAC1C,EAAAC,IAAA,CAAKR,IAAAA,CAAKS,WAAW,CAAA;gBACrB;YACF;YAGI,IAAApD,KAAA,CAAMC,QAAa,KAAAmD,WAAA,CAAYnD,QAAU,EAAA;gBAC3C,MAAM0D,cAAiB,GAAAR,IAAA,CAAKA,IAAK,CAAAxC,MAAA,GAAS,CAAC,CACrC,EAAAiD,KAAA,GAAQD,cAAkB,IAAAE,gBAAA,CAAiBF,gBAAgB;oBAACzD,KAAA,EAAOF,KAAM,CAAAE,KAAA,IAAS;iBAAE,CAAA;gBAC1F,IAAI0D,KAAS,IAAAA,KAAA,CAAM3D,QAAa,KAAAD,KAAA,CAAMC,QAAU,EAAA;oBAC9CmD,WAAA,GAAcQ,KACd,EAAAR,WAAA,CAAYvD,QAAS,CAAA8C,IAAA,CAAK3C,KAAK,CAAA;oBAC/B;gBAAA,CACK,MAAA;oBACLoD,WAAA,GAAcC,cAAcrD,KAAO,EAAAmC,CAAA,EAAGe,IAAI,CAC1C,EAAAC,IAAA,CAAKR,IAAAA,CAAKS,WAAW,CAAA;oBACrB;gBACF;YACF;YAGAU,OAAA,CAAQC,IAAAA,CAAK,qCAAuC,EAAA/D,KAAK,CACzD,EAAAmD,IAAA,CAAKR,IAAAA,CAAK3C,KAAK,CAAA;QAAA;IACjB;IAEO,OAAAmD,IAAA;AACT;AAEA,SAASG,gBAAAA,CAAiBtD,KAAAA,EAA0BgE,IAA+B,EAAA;IACjF,OAAA,CAAQhE,MAAME,KAAS,IAAA,CAAA,MAAO8D,KAAK9D,KAAS,IAAAF,KAAA,CAAMC,QAAAA,KAAa+D,IAAK,CAAA/D,QAAA;AACtE;AAEA,SAASoD,aAAAA,CACPrD,KACA,EAAAS,KAAA,EACAyC,IACyB,EAAA;IAClB,OAAA;QACLhE,KAAO,EAAA,OAAA;QACPU,MAAM,GAA2B,OAAxBI,KAAA,CAAMJ,IAAQ,IAAA,GAAQ,CAAE,MAAPa,KAAK,GAAE,QAAA;QACjCyC,IAAA;QACAhD,KAAA,EAAOF,MAAME,KAAS,IAAA,CAAA;QACtBD,UAAUD,KAAM,CAAAC,QAAA;QAChBJ,QAAA,EAAU;YAACG,KAAK;SAAA;IAAA,CAAA;AAEpB;AAEA,SAAS6D,gBAAAA,CACP7B,QAAAA,EACAiC,QACqC,EAAA;IAC/B,MAAA/D,KAAA,GAAQ+D,QAAS,CAAA/D,KAAA,IAAS,CAC1B,EAAAgE,KAAA,GAAQD,QAAS,CAAAhE,QAAA,IAAY,QAC7B,EAAAkE,YAAA,GAAe,OAAOF,QAAA,CAAShE,QAAa,IAAA,QAAA;IAEhD,IAAAE,yBAAA,CAA0B6B,QAAQ,CAAA,IAAA,CACjCA,QAAS,CAAA9B,KAAA,IAAS,CAAA,MAAOA,KAC1B,IAAAiE,YAAA,IAAA,CACCnC,QAAS,CAAA/B,QAAA,IAAY,QAAc,MAAAiE,KAAA,EAE7B,OAAAlC,QAAA;IAGT,IAAI,CAAA,CAAE,UAAc,IAAAA,QAAA,CAAA,EAClB;IAGF,MAAM/C,OAAO+C,QAAS,CAAAnC,QAAA,CAASmC,QAAS,CAAAnC,QAAA,CAASc,MAAAA,GAAS,CAAC,CAAA;IACpD,OAAA1B,IAAA,IAAQ,CAACD,kBAAmB,CAAAC,IAAI,IAAI4E,gBAAiB,CAAA5E,IAAA,EAAMgF,QAAQ,CAAI,GAAA,KAAA,CAAA;AAChF;AC5LO,SAASG,gBAAgB/D,IAA6C,EAAA;IAC3E,IAAIlB,IAAO,GAAA,EAAA;IACN,OAAAkB,IAAA,CAAAR,QAAA,CAASiB,OAAQ,CAACuD,OAAY,IAAA;QACC/D,6BAAA,CAAA+D,OAAO,CACvC,GAAAlF,IAAA,IAAQkF,OAAQ,CAAAlF,IAAA,GACPiB,0BAA0BiE,OAAO,CAAA,IAAA,CAC1ClF,IAAQ,IAAAiF,eAAA,CAAgBC,OAAO,CAAA,CAAA;IAElC,CAAA,CACM,EAAAlF,IAAA;AACT;ACnBA,MAAMmF,YAAA,GAAe,OACfC,aAAgB,GAAA,KAAA;AAaf,SAASC,YACdxE,KACQ,EAAA;IACR,MAAMiD,SAAS5D,KAAM,CAAAC,OAAA,CAAQU,KAAK,CAAI,GAAAA,KAAA,GAAQ;QAACA,KAAK;KAAA;IACpD,IAAIb,IAAO,GAAA,EAAA;IAEJ,OAAA8D,MAAA,CAAAnC,OAAA,CAAQ,CAACuD,OAAA,EAAS5D,KAAU,KAAA;QAC7B,IAAA,CAAChB,oBAAoB4E,OAAO,CAAA,EAC9B;QAGF,IAAII,GAAM,GAAA,CAAA,CAAA;QACFJ,OAAA,CAAAxE,QAAA,CAASiB,OAAQ,CAACT,IAAS,IAAA;YACVrB,kBAAA,CAAAqB,IAAI,IAAA,CAIzBlB,IAAQ,IAAAsF,GAAA,IAAOtF,QAAQ,CAACoF,aAAA,CAAcG,IAAK,CAAAvF,IAAI,CAAK,IAAA,CAACmF,aAAaI,IAAK,CAAArE,IAAA,CAAKlB,IAAI,CAAA,GAAI,GAAM,GAAA,EAAA,EAC1FA,QAAQkB,IAAK,CAAAlB,IAAA,EACbsF,GAAM,GAAA,CAAA,CAAA,IAENA,GAAM,GAAA,CAAA,CAAA;QAAA,CAET,CAEG,EAAAhE,KAAA,KAAUwC,MAAO,CAAAtC,MAAA,GAAS,KAAA,CAC5BxB,IAAQ,IAAA,MAAA,CAAA;IAEX,CAAA,CAEM,EAAAA,IAAA;AACT;ACvCa,MAAAwF,mBAAA,GAAsB,QAKtBC,qBAAwB,GAAA,QAAA","debugId":null}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@portabletext/react/dist/index.js","sources":["file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/react/src/components/list.tsx","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/react/src/components/marks.tsx","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/react/src/warnings.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/react/src/components/unknown.tsx","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/react/src/components/defaults.tsx","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/react/src/components/merge.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/react/src/react-portable-text.tsx"],"sourcesContent":["import type {PortableTextListComponent, PortableTextListItemComponent} from '../types'\n\nexport const defaultLists: Record<'number' | 'bullet', PortableTextListComponent> = {\n  number: ({children}) => <ol>{children}</ol>,\n  bullet: ({children}) => <ul>{children}</ul>,\n}\n\nexport const DefaultListItem: PortableTextListItemComponent = ({children}) => <li>{children}</li>\n","import type {TypedObject} from '@portabletext/types'\n\nimport type {PortableTextMarkComponent} from '../types'\n\ninterface DefaultLink extends TypedObject {\n  _type: 'link'\n  href: string\n}\n\nconst link: PortableTextMarkComponent<DefaultLink> = ({children, value}) => (\n  <a href={value?.href}>{children}</a>\n)\n\nconst underlineStyle = {textDecoration: 'underline'}\n\nexport const defaultMarks: Record<string, PortableTextMarkComponent | undefined> = {\n  'em': ({children}) => <em>{children}</em>,\n  'strong': ({children}) => <strong>{children}</strong>,\n  'code': ({children}) => <code>{children}</code>,\n  'underline': ({children}) => <span style={underlineStyle}>{children}</span>,\n  'strike-through': ({children}) => <del>{children}</del>,\n  link,\n}\n","const getTemplate = (type: string, prop: string): string =>\n  `[@portabletext/react] Unknown ${type}, specify a component for it in the \\`components.${prop}\\` prop`\n\nexport const unknownTypeWarning = (typeName: string): string =>\n  getTemplate(`block type \"${typeName}\"`, 'types')\n\nexport const unknownMarkWarning = (markType: string): string =>\n  getTemplate(`mark type \"${markType}\"`, 'marks')\n\nexport const unknownBlockStyleWarning = (blockStyle: string): string =>\n  getTemplate(`block style \"${blockStyle}\"`, 'block')\n\nexport const unknownListStyleWarning = (listStyle: string): string =>\n  getTemplate(`list style \"${listStyle}\"`, 'list')\n\nexport const unknownListItemStyleWarning = (listStyle: string): string =>\n  getTemplate(`list item style \"${listStyle}\"`, 'listItem')\n\nexport function printWarning(message: string): void {\n  console.warn(message)\n}\n","import type {PortableTextReactComponents} from '../types'\nimport {unknownTypeWarning} from '../warnings'\n\nconst hidden = {display: 'none'}\n\nexport const DefaultUnknownType: PortableTextReactComponents['unknownType'] = ({\n  value,\n  isInline,\n}) => {\n  const warning = unknownTypeWarning(value._type)\n  return isInline ? <span style={hidden}>{warning}</span> : <div style={hidden}>{warning}</div>\n}\n\nexport const DefaultUnknownMark: PortableTextReactComponents['unknownMark'] = ({\n  markType,\n  children,\n}) => {\n  return <span className={`unknown__pt__mark__${markType}`}>{children}</span>\n}\n\nexport const DefaultUnknownBlockStyle: PortableTextReactComponents['unknownBlockStyle'] = ({\n  children,\n}) => {\n  return <p>{children}</p>\n}\n\nexport const DefaultUnknownList: PortableTextReactComponents['unknownList'] = ({children}) => {\n  return <ul>{children}</ul>\n}\n\nexport const DefaultUnknownListItem: PortableTextReactComponents['unknownListItem'] = ({\n  children,\n}) => {\n  return <li>{children}</li>\n}\n","import type {PortableTextBlockStyle} from '@portabletext/types'\nimport type {JSX} from 'react'\n\nimport type {PortableTextBlockComponent, PortableTextReactComponents} from '../types'\nimport {DefaultListItem, defaultLists} from './list'\nimport {defaultMarks} from './marks'\nimport {\n  DefaultUnknownBlockStyle,\n  DefaultUnknownList,\n  DefaultUnknownListItem,\n  DefaultUnknownMark,\n  DefaultUnknownType,\n} from './unknown'\n\nexport const DefaultHardBreak = (): JSX.Element => <br />\n\nexport const defaultBlockStyles: Record<\n  PortableTextBlockStyle,\n  PortableTextBlockComponent | undefined\n> = {\n  normal: ({children}) => <p>{children}</p>,\n  blockquote: ({children}) => <blockquote>{children}</blockquote>,\n  h1: ({children}) => <h1>{children}</h1>,\n  h2: ({children}) => <h2>{children}</h2>,\n  h3: ({children}) => <h3>{children}</h3>,\n  h4: ({children}) => <h4>{children}</h4>,\n  h5: ({children}) => <h5>{children}</h5>,\n  h6: ({children}) => <h6>{children}</h6>,\n}\n\nexport const defaultComponents: PortableTextReactComponents = {\n  types: {},\n\n  block: defaultBlockStyles,\n  marks: defaultMarks,\n  list: defaultLists,\n  listItem: DefaultListItem,\n  hardBreak: DefaultHardBreak,\n\n  unknownType: DefaultUnknownType,\n  unknownMark: DefaultUnknownMark,\n  unknownList: DefaultUnknownList,\n  unknownListItem: DefaultUnknownListItem,\n  unknownBlockStyle: DefaultUnknownBlockStyle,\n}\n","import type {PortableTextComponents, PortableTextReactComponents} from '../types'\n\nexport function mergeComponents(\n  parent: PortableTextReactComponents,\n  overrides: PortableTextComponents,\n): PortableTextReactComponents {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const {block, list, listItem, marks, types, ...rest} = overrides\n  // @todo figure out how to not `as ...` these\n  return {\n    ...parent,\n    block: mergeDeeply(parent, overrides, 'block') as PortableTextReactComponents['block'],\n    list: mergeDeeply(parent, overrides, 'list') as PortableTextReactComponents['list'],\n    listItem: mergeDeeply(parent, overrides, 'listItem') as PortableTextReactComponents['listItem'],\n    marks: mergeDeeply(parent, overrides, 'marks') as PortableTextReactComponents['marks'],\n    types: mergeDeeply(parent, overrides, 'types') as PortableTextReactComponents['types'],\n    ...rest,\n  }\n}\n\nfunction mergeDeeply(\n  parent: PortableTextReactComponents,\n  overrides: PortableTextComponents,\n  key: 'block' | 'list' | 'listItem' | 'marks' | 'types',\n): PortableTextReactComponents[typeof key] {\n  const override = overrides[key]\n  const parentVal = parent[key]\n\n  if (typeof override === 'function') {\n    return override\n  }\n\n  if (override && typeof parentVal === 'function') {\n    return override\n  }\n\n  if (override) {\n    return {...parentVal, ...override} as PortableTextReactComponents[typeof key]\n  }\n\n  return parentVal\n}\n","import type {ToolkitNestedPortableTextSpan, ToolkitTextNode} from '@portabletext/toolkit'\nimport {\n  buildMarksTree,\n  isPortableTextBlock,\n  isPortableTextListItemBlock,\n  isPortableTextToolkitList,\n  isPortableTextToolkitSpan,\n  isPortableTextToolkitTextNode,\n  LIST_NEST_MODE_HTML,\n  nestLists,\n  spanToPlainText,\n} from '@portabletext/toolkit'\nimport type {\n  PortableTextBlock,\n  PortableTextListItemBlock,\n  PortableTextMarkDefinition,\n  PortableTextSpan,\n  TypedObject,\n} from '@portabletext/types'\nimport {type JSX, type ReactNode, useMemo} from 'react'\n\nimport {defaultComponents} from './components/defaults'\nimport {mergeComponents} from './components/merge'\nimport type {\n  MissingComponentHandler,\n  NodeRenderer,\n  PortableTextProps,\n  PortableTextReactComponents,\n  ReactPortableTextList,\n  Serializable,\n  SerializedBlock,\n} from './types'\nimport {\n  printWarning,\n  unknownBlockStyleWarning,\n  unknownListItemStyleWarning,\n  unknownListStyleWarning,\n  unknownMarkWarning,\n  unknownTypeWarning,\n} from './warnings'\n\nexport function PortableText<B extends TypedObject = PortableTextBlock>({\n  value: input,\n  components: componentOverrides,\n  listNestingMode,\n  onMissingComponent: missingComponentHandler = printWarning,\n}: PortableTextProps<B>): JSX.Element {\n  const handleMissingComponent = missingComponentHandler || noop\n  const blocks = Array.isArray(input) ? input : [input]\n  const nested = nestLists(blocks, listNestingMode || LIST_NEST_MODE_HTML)\n\n  const components = useMemo(() => {\n    return componentOverrides\n      ? mergeComponents(defaultComponents, componentOverrides)\n      : defaultComponents\n  }, [componentOverrides])\n\n  const renderNode = useMemo(\n    () => getNodeRenderer(components, handleMissingComponent),\n    [components, handleMissingComponent],\n  )\n  const rendered = nested.map((node, index) =>\n    renderNode({node: node, index, isInline: false, renderNode}),\n  )\n\n  return <>{rendered}</>\n}\n\nconst getNodeRenderer = (\n  components: PortableTextReactComponents,\n  handleMissingComponent: MissingComponentHandler,\n): NodeRenderer => {\n  function renderNode<N extends TypedObject>(options: Serializable<N>): ReactNode {\n    const {node, index, isInline} = options\n    const key = node._key || `node-${index}`\n\n    if (isPortableTextToolkitList(node)) {\n      return renderList(node, index, key)\n    }\n\n    if (isPortableTextListItemBlock(node)) {\n      return renderListItem(node, index, key)\n    }\n\n    if (isPortableTextToolkitSpan(node)) {\n      return renderSpan(node, index, key)\n    }\n\n    if (hasCustomComponentForNode(node)) {\n      return renderCustomBlock(node, index, key, isInline)\n    }\n\n    if (isPortableTextBlock(node)) {\n      return renderBlock(node, index, key, isInline)\n    }\n\n    if (isPortableTextToolkitTextNode(node)) {\n      return renderText(node, key)\n    }\n\n    return renderUnknownType(node, index, key, isInline)\n  }\n\n  function hasCustomComponentForNode(node: TypedObject): boolean {\n    return node._type in components.types\n  }\n\n  /* eslint-disable react/jsx-no-bind */\n  function renderListItem(\n    node: PortableTextListItemBlock<PortableTextMarkDefinition, PortableTextSpan>,\n    index: number,\n    key: string,\n  ) {\n    const tree = serializeBlock({node, index, isInline: false, renderNode})\n    const renderer = components.listItem\n    const handler = typeof renderer === 'function' ? renderer : renderer[node.listItem]\n    const Li = handler || components.unknownListItem\n\n    if (Li === components.unknownListItem) {\n      const style = node.listItem || 'bullet'\n      handleMissingComponent(unknownListItemStyleWarning(style), {\n        type: style,\n        nodeType: 'listItemStyle',\n      })\n    }\n\n    let children = tree.children\n    if (node.style && node.style !== 'normal') {\n      // Wrap any other style in whatever the block serializer says to use\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const {listItem, ...blockNode} = node\n      children = renderNode({node: blockNode, index, isInline: false, renderNode})\n    }\n\n    return (\n      <Li key={key} value={node} index={index} isInline={false} renderNode={renderNode}>\n        {children}\n      </Li>\n    )\n  }\n\n  function renderList(node: ReactPortableTextList, index: number, key: string) {\n    const children = node.children.map((child, childIndex) =>\n      renderNode({\n        node: child._key ? child : {...child, _key: `li-${index}-${childIndex}`},\n        index: childIndex,\n        isInline: false,\n        renderNode,\n      }),\n    )\n\n    const component = components.list\n    const handler = typeof component === 'function' ? component : component[node.listItem]\n    const List = handler || components.unknownList\n\n    if (List === components.unknownList) {\n      const style = node.listItem || 'bullet'\n      handleMissingComponent(unknownListStyleWarning(style), {nodeType: 'listStyle', type: style})\n    }\n\n    return (\n      <List key={key} value={node} index={index} isInline={false} renderNode={renderNode}>\n        {children}\n      </List>\n    )\n  }\n\n  function renderSpan(node: ToolkitNestedPortableTextSpan, _index: number, key: string) {\n    const {markDef, markType, markKey} = node\n    const Span = components.marks[markType] || components.unknownMark\n    const children = node.children.map((child, childIndex) =>\n      renderNode({node: child, index: childIndex, isInline: true, renderNode}),\n    )\n\n    if (Span === components.unknownMark) {\n      handleMissingComponent(unknownMarkWarning(markType), {nodeType: 'mark', type: markType})\n    }\n\n    return (\n      <Span\n        key={key}\n        text={spanToPlainText(node)}\n        value={markDef}\n        markType={markType}\n        markKey={markKey}\n        renderNode={renderNode}\n      >\n        {children}\n      </Span>\n    )\n  }\n\n  function renderBlock(node: PortableTextBlock, index: number, key: string, isInline: boolean) {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const {_key, ...props} = serializeBlock({node, index, isInline, renderNode})\n    const style = props.node.style || 'normal'\n    const handler =\n      typeof components.block === 'function' ? components.block : components.block[style]\n    const Block = handler || components.unknownBlockStyle\n\n    if (Block === components.unknownBlockStyle) {\n      handleMissingComponent(unknownBlockStyleWarning(style), {\n        nodeType: 'blockStyle',\n        type: style,\n      })\n    }\n\n    return <Block key={key} {...props} value={props.node} renderNode={renderNode} />\n  }\n\n  function renderText(node: ToolkitTextNode, key: string) {\n    if (node.text === '\\n') {\n      const HardBreak = components.hardBreak\n      return HardBreak ? <HardBreak key={key} /> : '\\n'\n    }\n\n    return node.text\n  }\n\n  function renderUnknownType(node: TypedObject, index: number, key: string, isInline: boolean) {\n    const nodeOptions = {\n      value: node,\n      isInline,\n      index,\n      renderNode,\n    }\n\n    handleMissingComponent(unknownTypeWarning(node._type), {nodeType: 'block', type: node._type})\n\n    const UnknownType = components.unknownType\n    return <UnknownType key={key} {...nodeOptions} />\n  }\n\n  function renderCustomBlock(node: TypedObject, index: number, key: string, isInline: boolean) {\n    const nodeOptions = {\n      value: node,\n      isInline,\n      index,\n      renderNode,\n    }\n\n    const Node = components.types[node._type]\n    return Node ? <Node key={key} {...nodeOptions} /> : null\n  }\n  /* eslint-enable react/jsx-no-bind */\n\n  return renderNode\n}\n\nfunction serializeBlock(options: Serializable<PortableTextBlock>): SerializedBlock {\n  const {node, index, isInline, renderNode} = options\n  const tree = buildMarksTree(node)\n  const children = tree.map((child, i) =>\n    renderNode({node: child, isInline: true, index: i, renderNode}),\n  )\n\n  return {\n    _key: node._key || `block-${index}`,\n    children,\n    index,\n    isInline,\n    node,\n  }\n}\n\nfunction noop() {\n  // Intentional noop\n}\n"],"names":["defaultLists","number","children","jsx","bullet","DefaultListItem","link","value","href","underlineStyle","textDecoration","defaultMarks","em","strong","code","underline","style","strike-through","getTemplate","type","prop","unknownTypeWarning","typeName","unknownMarkWarning","markType","unknownBlockStyleWarning","blockStyle","unknownListStyleWarning","listStyle","unknownListItemStyleWarning","printWarning","message","console","warn","hidden","display","DefaultUnknownType","isInline","warning","_type","DefaultUnknownMark","className","DefaultUnknownBlockStyle","DefaultUnknownList","DefaultUnknownListItem","DefaultHardBreak","defaultBlockStyles","normal","blockquote","h1","h2","h3","h4","h5","h6","defaultComponents","types","block","marks","list","listItem","hardBreak","unknownType","unknownMark","unknownList","unknownListItem","unknownBlockStyle","mergeComponents","parent","overrides","rest","_excluded","_objectSpread","mergeDeeply","key","override","parentVal","PortableText","input","components","componentOverrides","listNestingMode","onMissingComponent","missingComponentHandler","handleMissingComponent","noop","blocks","Array","isArray","nested","nestLists","LIST_NEST_MODE_HTML","useMemo","renderNode","getNodeRenderer","rendered","map","node","index","options","_key","isPortableTextToolkitList","renderList","isPortableTextListItemBlock","renderListItem","isPortableTextToolkitSpan","renderSpan","hasCustomComponentForNode","renderCustomBlock","isPortableTextBlock","renderBlock","isPortableTextToolkitTextNode","renderText","renderUnknownType","tree","serializeBlock","renderer","Li","nodeType","blockNode","_objectWithoutProperties","_excluded2","child","childIndex","component","List","_index","markDef","markKey","Span","text","spanToPlainText","_serializeBlock","props","_excluded3","Block","HardBreak","nodeOptions","UnknownType","Node","buildMarksTree","i"],"mappings":"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","debugId":null}},
    {"offset": {"line": 1062, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@portabletext/block-tools/lib/index.js","sources":["file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/util/findBlockType.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/util/resolveJsType.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/node_modules/.pnpm/%40vercel%2Bstega%400.1.2/node_modules/%40vercel/stega/dist/index.mjs","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/constants.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/util/blockContentTypeFeatures.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/preprocessors/xpathResult.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/preprocessors/gdocs.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/preprocessors/html.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/preprocessors/notion.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/preprocessors/whitespace.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/preprocessors/word.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/preprocessors/index.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/helpers.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/rules/gdocs.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/util/randomKey.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/rules/whitespace-text-node.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/rules/html.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/rules/notion.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/rules/word.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/rules/index.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/HtmlDeserializer/index.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/util/normalizeBlock.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/block-tools/src/index.ts"],"sourcesContent":["import type {BlockSchemaType, SchemaType} from '@sanity/types'\n\nexport function findBlockType(type: SchemaType): type is BlockSchemaType {\n  if (type.type) {\n    return findBlockType(type.type)\n  }\n\n  if (type.name === 'block') {\n    return true\n  }\n\n  return false\n}\n","const objectToString = Object.prototype.toString\n\n// Copied from https://github.com/ForbesLindesay/type-of\n// but inlined to have fine grained control\nexport function resolveJsType(val: unknown) {\n  switch (objectToString.call(val)) {\n    case '[object Function]':\n      return 'function'\n    case '[object Date]':\n      return 'date'\n    case '[object RegExp]':\n      return 'regexp'\n    case '[object Arguments]':\n      return 'arguments'\n    case '[object Array]':\n      return 'array'\n    case '[object String]':\n      return 'string'\n    default:\n  }\n\n  if (val === null) {\n    return 'null'\n  }\n\n  if (val === undefined) {\n    return 'undefined'\n  }\n\n  if (\n    val &&\n    typeof val === 'object' &&\n    'nodeType' in val &&\n    (val as {nodeType: unknown}).nodeType === 1\n  ) {\n    return 'element'\n  }\n\n  if (val === Object(val)) {\n    return 'object'\n  }\n\n  return typeof val\n}\n","var s={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},c={0:8203,1:8204,2:8205,3:65279},u=new Array(4).fill(String.fromCodePoint(c[0])).join(\"\"),m=String.fromCharCode(0);function E(t){let e=JSON.stringify(t);return`${u}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,\"0\")).map(o=>String.fromCodePoint(c[o])).join(\"\")}).join(\"\")}`}function y(t){let e=JSON.stringify(t);return Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(16).padStart(2,\"0\")).map(o=>String.fromCodePoint(s[o])).join(\"\")}).join(\"\")}function I(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\\d+(?:[-:\\/]\\d+){2}(?:T\\d+(?:[-:\\/]\\d+){1,2}(\\.\\d+)?Z?)?/.test(t)?!1:Boolean(Date.parse(t))}function T(t){try{new URL(t,t.startsWith(\"/\")?\"https://acme.com\":void 0)}catch{return!1}return!0}function C(t,e,r=\"auto\"){return r===!0||r===\"auto\"&&(I(t)||T(t))?t:`${t}${E(e)}`}var x=Object.fromEntries(Object.entries(c).map(t=>t.reverse())),g=Object.fromEntries(Object.entries(s).map(t=>t.reverse())),S=`${Object.values(s).map(t=>`\\\\u{${t.toString(16)}}`).join(\"\")}`,f=new RegExp(`[${S}]{4,}`,\"gu\");function G(t){let e=t.match(f);if(!!e)return h(e[0],!0)[0]}function $(t){let e=t.match(f);if(!!e)return e.map(r=>h(r)).flat()}function h(t,e=!1){let r=Array.from(t);if(r.length%2===0){if(r.length%4||!t.startsWith(u))return A(r,e)}else throw new Error(\"Encoded data has invalid length\");let n=[];for(let o=r.length*.25;o--;){let p=r.slice(o*4,o*4+4).map(d=>x[d.codePointAt(0)]).join(\"\");n.unshift(String.fromCharCode(parseInt(p,4)))}if(e){n.shift();let o=n.indexOf(m);return o===-1&&(o=n.length),[JSON.parse(n.slice(0,o).join(\"\"))]}return n.join(\"\").split(m).filter(Boolean).map(o=>JSON.parse(o))}function A(t,e){var d;let r=[];for(let i=t.length*.5;i--;){let a=`${g[t[i*2].codePointAt(0)]}${g[t[i*2+1].codePointAt(0)]}`;r.unshift(String.fromCharCode(parseInt(a,16)))}let n=[],o=[r.join(\"\")],p=10;for(;o.length;){let i=o.shift();try{if(n.push(JSON.parse(i)),e)return n}catch(a){if(!p--)throw a;let l=+((d=a.message.match(/\\sposition\\s(\\d+)$/))==null?void 0:d[1]);if(!l)throw a;o.unshift(i.substring(0,l),i.substring(l))}}return n}function _(t){var e;return{cleaned:t.replace(f,\"\"),encoded:((e=t.match(f))==null?void 0:e[0])||\"\"}}function O(t){return t&&JSON.parse(_(JSON.stringify(t)).cleaned)}export{f as VERCEL_STEGA_REGEX,y as legacyStegaEncode,O as vercelStegaClean,C as vercelStegaCombine,G as vercelStegaDecode,$ as vercelStegaDecodeAll,E as vercelStegaEncode,_ as vercelStegaSplit};\n","import {uniq} from 'lodash'\n\nexport interface PartialBlock {\n  _type: string\n  markDefs: string[]\n  style: string\n  level?: number\n  listItem?: string\n}\n\nexport const PRESERVE_WHITESPACE_TAGS = ['pre', 'textarea', 'code']\n\nexport const BLOCK_DEFAULT_STYLE = 'normal'\n\nexport const DEFAULT_BLOCK: PartialBlock = Object.freeze({\n  _type: 'block',\n  markDefs: [],\n  style: BLOCK_DEFAULT_STYLE,\n})\n\nexport const DEFAULT_SPAN = Object.freeze({\n  _type: 'span',\n  marks: [] as string[],\n})\n\nexport const HTML_BLOCK_TAGS = {\n  p: DEFAULT_BLOCK,\n  blockquote: {...DEFAULT_BLOCK, style: 'blockquote'} as PartialBlock,\n}\n\nexport const HTML_SPAN_TAGS = {\n  span: {object: 'text'},\n}\n\nexport const HTML_LIST_CONTAINER_TAGS: Record<\n  string,\n  {object: null} | undefined\n> = {\n  ol: {object: null},\n  ul: {object: null},\n}\n\nexport const HTML_HEADER_TAGS: Record<string, PartialBlock | undefined> = {\n  h1: {...DEFAULT_BLOCK, style: 'h1'},\n  h2: {...DEFAULT_BLOCK, style: 'h2'},\n  h3: {...DEFAULT_BLOCK, style: 'h3'},\n  h4: {...DEFAULT_BLOCK, style: 'h4'},\n  h5: {...DEFAULT_BLOCK, style: 'h5'},\n  h6: {...DEFAULT_BLOCK, style: 'h6'},\n}\n\nexport const HTML_MISC_TAGS = {\n  br: {...DEFAULT_BLOCK, style: BLOCK_DEFAULT_STYLE} as PartialBlock,\n}\n\nexport const HTML_DECORATOR_TAGS: Record<string, string | undefined> = {\n  b: 'strong',\n  strong: 'strong',\n\n  i: 'em',\n  em: 'em',\n\n  u: 'underline',\n  s: 'strike-through',\n  strike: 'strike-through',\n  del: 'strike-through',\n\n  code: 'code',\n  sup: 'sup',\n  sub: 'sub',\n  ins: 'ins',\n  mark: 'mark',\n  small: 'small',\n}\n\nexport const HTML_LIST_ITEM_TAGS: Record<string, PartialBlock | undefined> = {\n  li: {\n    ...DEFAULT_BLOCK,\n    style: BLOCK_DEFAULT_STYLE,\n    level: 1,\n    listItem: 'bullet',\n  },\n}\n\nexport const ELEMENT_MAP = {\n  ...HTML_BLOCK_TAGS,\n  ...HTML_SPAN_TAGS,\n  ...HTML_LIST_CONTAINER_TAGS,\n  ...HTML_LIST_ITEM_TAGS,\n  ...HTML_HEADER_TAGS,\n  ...HTML_MISC_TAGS,\n}\n\nexport const DEFAULT_SUPPORTED_STYLES = uniq(\n  Object.values(ELEMENT_MAP)\n    .filter((tag): tag is PartialBlock => 'style' in tag)\n    .map((tag) => tag.style),\n)\n\nexport const DEFAULT_SUPPORTED_DECORATORS = uniq(\n  Object.values(HTML_DECORATOR_TAGS),\n)\n\nexport const DEFAULT_SUPPORTED_ANNOTATIONS = ['link']\n","import {\n  isBlockChildrenObjectField,\n  isBlockListObjectField,\n  isBlockSchemaType,\n  isBlockStyleObjectField,\n  isObjectSchemaType,\n  isTitledListValue,\n  type ArraySchemaType,\n  type BlockSchemaType,\n  type EnumListProps,\n  type I18nTitledListValue,\n  type ObjectSchemaType,\n  type SpanSchemaType,\n  type TitledListValue,\n} from '@sanity/types'\nimport type {BlockContentFeatures, ResolvedAnnotationType} from '../types'\nimport {findBlockType} from './findBlockType'\n\n// Helper method for describing a blockContentType's feature set\nexport default function blockContentFeatures(\n  blockContentType: ArraySchemaType,\n): BlockContentFeatures {\n  if (!blockContentType) {\n    throw new Error(\"Parameter 'blockContentType' required\")\n  }\n\n  const blockType = blockContentType.of.find(findBlockType)\n  if (!isBlockSchemaType(blockType)) {\n    throw new Error(\"'block' type is not defined in this schema (required).\")\n  }\n\n  const ofType = blockType.fields.find(isBlockChildrenObjectField)?.type?.of\n  if (!ofType) {\n    throw new Error('No `of` declaration found for blocks `children` field')\n  }\n\n  const spanType = ofType.find(\n    (member): member is SpanSchemaType => member.name === 'span',\n  )\n  if (!spanType) {\n    throw new Error(\n      'No `span` type found in `block` schema type `children` definition',\n    )\n  }\n\n  const inlineObjectTypes = ofType.filter(\n    (inlineType): inlineType is ObjectSchemaType =>\n      inlineType.name !== 'span' && isObjectSchemaType(inlineType),\n  )\n\n  const blockObjectTypes = blockContentType.of.filter(\n    (memberType): memberType is ObjectSchemaType =>\n      memberType.name !== blockType.name && isObjectSchemaType(memberType),\n  )\n\n  return {\n    styles: resolveEnabledStyles(blockType),\n    decorators: resolveEnabledDecorators(spanType),\n    annotations: resolveEnabledAnnotationTypes(spanType),\n    lists: resolveEnabledListItems(blockType),\n    types: {\n      block: blockContentType,\n      span: spanType,\n      inlineObjects: inlineObjectTypes,\n      blockObjects: blockObjectTypes,\n    },\n  }\n}\n\nfunction resolveEnabledStyles(\n  blockType: BlockSchemaType,\n): TitledListValue<string>[] {\n  const styleField = blockType.fields.find(isBlockStyleObjectField)\n  if (!styleField) {\n    throw new Error(\n      \"A field with name 'style' is not defined in the block type (required).\",\n    )\n  }\n\n  const textStyles = getTitledListValuesFromEnumListOptions(\n    styleField.type.options,\n  )\n  if (textStyles.length === 0) {\n    throw new Error(\n      'The style fields need at least one style ' +\n        \"defined. I.e: {title: 'Normal', value: 'normal'}.\",\n    )\n  }\n\n  return textStyles\n}\n\nfunction resolveEnabledAnnotationTypes(\n  spanType: SpanSchemaType,\n): ResolvedAnnotationType[] {\n  return spanType.annotations.map((annotation) => ({\n    title: annotation.title,\n    type: annotation,\n    value: annotation.name,\n    icon: annotation.icon,\n  }))\n}\n\nfunction resolveEnabledDecorators(\n  spanType: SpanSchemaType,\n): TitledListValue<string>[] {\n  return spanType.decorators\n}\n\nfunction resolveEnabledListItems(\n  blockType: BlockSchemaType,\n): I18nTitledListValue<string>[] {\n  const listField = blockType.fields.find(isBlockListObjectField)\n  if (!listField) {\n    throw new Error(\n      \"A field with name 'list' is not defined in the block type (required).\",\n    )\n  }\n\n  const listItems = getTitledListValuesFromEnumListOptions(\n    listField.type.options,\n  )\n  if (!listItems) {\n    throw new Error('The list field need at least to be an empty array')\n  }\n\n  return listItems\n}\n\nfunction getTitledListValuesFromEnumListOptions(\n  options: EnumListProps<string> | undefined,\n): I18nTitledListValue<string>[] {\n  const list = options ? options.list : undefined\n  if (!Array.isArray(list)) {\n    return []\n  }\n\n  return list.map((item) =>\n    isTitledListValue(item) ? item : {title: item, value: item},\n  )\n}\n","// We need this here if run server side\nexport const _XPathResult = {\n  ANY_TYPE: 0,\n  NUMBER_TYPE: 1,\n  STRING_TYPE: 2,\n  BOOLEAN_TYPE: 3,\n  UNORDERED_NODE_ITERATOR_TYPE: 4,\n  ORDERED_NODE_ITERATOR_TYPE: 5,\n  UNORDERED_NODE_SNAPSHOT_TYPE: 6,\n  ORDERED_NODE_SNAPSHOT_TYPE: 7,\n  ANY_UNORDERED_NODE_TYPE: 8,\n  FIRST_ORDERED_NODE_TYPE: 9,\n}\n","import type {HtmlPreprocessorOptions} from '../../types'\nimport {normalizeWhitespace, removeAllWhitespace, tagName} from '../helpers'\nimport {_XPathResult} from './xpathResult'\n\nexport default (\n  _html: string,\n  doc: Document,\n  options: HtmlPreprocessorOptions,\n): Document => {\n  const whitespaceOnPasteMode =\n    options?.unstable_whitespaceOnPasteMode || 'preserve'\n  let gDocsRootOrSiblingNode = doc\n    .evaluate(\n      '//*[@id and contains(@id, \"docs-internal-guid\")]',\n      doc,\n      null,\n      _XPathResult.ORDERED_NODE_ITERATOR_TYPE,\n      null,\n    )\n    .iterateNext()\n\n  if (gDocsRootOrSiblingNode) {\n    const isWrappedRootTag = tagName(gDocsRootOrSiblingNode) === 'b'\n\n    // If this document isn't wrapped in a 'b' tag, then assume all siblings live on the root level\n    if (!isWrappedRootTag) {\n      gDocsRootOrSiblingNode = doc.body\n    }\n\n    switch (whitespaceOnPasteMode) {\n      case 'normalize':\n        // Keep only 1 empty block between content nodes\n        normalizeWhitespace(gDocsRootOrSiblingNode)\n        break\n      case 'remove':\n        // Remove all whitespace nodes\n        removeAllWhitespace(gDocsRootOrSiblingNode)\n        break\n      default:\n        break\n    }\n\n    // Tag every child with attribute 'is-google-docs' so that the GDocs rule-set can\n    // work exclusivly on these children\n    const childNodes = doc.evaluate(\n      '//*',\n      doc,\n      null,\n      _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n      null,\n    )\n\n    for (let i = childNodes.snapshotLength - 1; i >= 0; i--) {\n      const elm = childNodes.snapshotItem(i) as HTMLElement\n      elm?.setAttribute('data-is-google-docs', 'true')\n\n      if (\n        elm?.parentElement === gDocsRootOrSiblingNode ||\n        (!isWrappedRootTag && elm.parentElement === doc.body)\n      ) {\n        elm?.setAttribute('data-is-root-node', 'true')\n        tagName(elm)\n      }\n\n      // Handle checkmark lists - The first child of a list item is an image with a checkmark, and the serializer\n      // expects the first child to be the text node\n      if (\n        tagName(elm) === 'li' &&\n        elm.firstChild &&\n        tagName(elm?.firstChild) === 'img'\n      ) {\n        elm.removeChild(elm.firstChild)\n      }\n    }\n\n    // Remove that 'b' which Google Docs wraps the HTML content in\n    if (isWrappedRootTag) {\n      doc.body.firstElementChild?.replaceWith(\n        ...Array.from(gDocsRootOrSiblingNode.childNodes),\n      )\n    }\n\n    return doc\n  }\n  return doc\n}\n","import {_XPathResult} from './xpathResult'\n\n// Remove this cruft from the document\nconst unwantedWordDocumentPaths = [\n  '/html/text()',\n  '/html/head/text()',\n  '/html/body/text()',\n  '/html/body/ul/text()',\n  '/html/body/ol/text()',\n  '//comment()',\n  '//style',\n  '//xml',\n  '//script',\n  '//meta',\n  '//link',\n]\n\nexport default (_html: string, doc: Document): Document => {\n  // Make sure text directly on the body is wrapped in spans.\n  // This mimics what the browser does before putting html on the clipboard,\n  // when used in a script context with JSDOM\n  const bodyTextNodes = doc.evaluate(\n    '/html/body/text()',\n    doc,\n    null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null,\n  )\n\n  for (let i = bodyTextNodes.snapshotLength - 1; i >= 0; i--) {\n    const node = bodyTextNodes.snapshotItem(i) as HTMLElement\n    const text = node.textContent || ''\n    if (text.replace(/[^\\S\\n]+$/g, '')) {\n      const newNode = doc.createElement('span')\n      newNode.appendChild(doc.createTextNode(text))\n      node.parentNode?.replaceChild(newNode, node)\n    } else {\n      node.parentNode?.removeChild(node)\n    }\n  }\n\n  const unwantedNodes = doc.evaluate(\n    unwantedWordDocumentPaths.join('|'),\n    doc,\n    null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null,\n  )\n  for (let i = unwantedNodes.snapshotLength - 1; i >= 0; i--) {\n    const unwanted = unwantedNodes.snapshotItem(i)\n    if (!unwanted) {\n      continue\n    }\n    unwanted.parentNode?.removeChild(unwanted)\n  }\n  return doc\n}\n","import {_XPathResult} from './xpathResult'\n\nexport default (html: string, doc: Document): Document => {\n  const NOTION_REGEX = /<!-- notionvc:.*?-->/g\n\n  if (html.match(NOTION_REGEX)) {\n    // Tag every child with attribute 'is-notion' so that the Notion rule-set can\n    // work exclusivly on these children\n    const childNodes = doc.evaluate(\n      '//*',\n      doc,\n      null,\n      _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n      null,\n    )\n\n    for (let i = childNodes.snapshotLength - 1; i >= 0; i--) {\n      const elm = childNodes.snapshotItem(i) as HTMLElement\n      elm?.setAttribute('data-is-notion', 'true')\n    }\n\n    return doc\n  }\n  return doc\n}\n","import {PRESERVE_WHITESPACE_TAGS} from '../../constants'\nimport {_XPathResult} from './xpathResult'\n\nexport default (_: string, doc: Document): Document => {\n  // Recursively process all nodes.\n  function processNode(node: Node) {\n    // If this is a text node and not inside a tag where whitespace should be preserved, process it.\n    if (\n      node.nodeType === _XPathResult.BOOLEAN_TYPE &&\n      !PRESERVE_WHITESPACE_TAGS.includes(\n        node.parentElement?.tagName.toLowerCase() || '',\n      )\n    ) {\n      node.textContent =\n        node.textContent\n          ?.replace(/\\s\\s+/g, ' ') // Remove multiple whitespace\n          .replace(/[\\r\\n]+/g, ' ') || '' // Replace newlines with spaces\n    }\n    // Otherwise, if this node has children, process them.\n    else {\n      for (let i = 0; i < node.childNodes.length; i++) {\n        processNode(node.childNodes[i])\n      }\n    }\n  }\n\n  // Process all nodes starting from the root.\n  processNode(doc.body)\n\n  return doc\n}\n","import {_XPathResult} from './xpathResult'\n\nconst WORD_HTML_REGEX =\n  /(class=\"?Mso|style=(?:\"|')[^\"]*?\\bmso-|w:WordDocument|<o:\\w+>|<\\/font>)/\n\n// xPaths for elements that will be removed from the document\nconst unwantedPaths = [\n  '//o:p',\n  \"//span[@style='mso-list:Ignore']\",\n  \"//span[@style='mso-list: Ignore']\",\n]\n\n// xPaths for elements that needs to be remapped into other tags\nconst mappedPaths = [\n  \"//p[@class='MsoTocHeading']\",\n  \"//p[@class='MsoTitle']\",\n  \"//p[@class='MsoToaHeading']\",\n  \"//p[@class='MsoSubtitle']\",\n  \"//span[@class='MsoSubtleEmphasis']\",\n  \"//span[@class='MsoIntenseEmphasis']\",\n]\n\n// Which HTML element(s) to map the elements matching mappedPaths into\nconst elementMap: Record<string, string[] | undefined> = {\n  MsoTocHeading: ['h3'],\n  MsoTitle: ['h1'],\n  MsoToaHeading: ['h2'],\n  MsoSubtitle: ['h5'],\n  MsoSubtleEmphasis: ['span', 'em'],\n  MsoIntenseEmphasis: ['span', 'em', 'strong'],\n  // Remove cruft\n}\n\nfunction isWordHtml(html: string) {\n  return WORD_HTML_REGEX.test(html)\n}\n\nexport default (html: string, doc: Document): Document => {\n  if (!isWordHtml(html)) {\n    return doc\n  }\n\n  const unwantedNodes = doc.evaluate(\n    unwantedPaths.join('|'),\n    doc,\n    (prefix) => {\n      if (prefix === 'o') {\n        return 'urn:schemas-microsoft-com:office:office'\n      }\n      return null\n    },\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null,\n  )\n\n  for (let i = unwantedNodes.snapshotLength - 1; i >= 0; i--) {\n    const unwanted = unwantedNodes.snapshotItem(i)\n    if (unwanted?.parentNode) {\n      unwanted.parentNode.removeChild(unwanted)\n    }\n  }\n\n  // Transform mapped elements into what they should be mapped to\n  const mappedElements = doc.evaluate(\n    mappedPaths.join('|'),\n    doc,\n    null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null,\n  )\n  for (let i = mappedElements.snapshotLength - 1; i >= 0; i--) {\n    const mappedElm = mappedElements.snapshotItem(i) as HTMLElement\n    const tags = elementMap[mappedElm.className]\n    const text = doc.createTextNode(mappedElm.textContent || '')\n    if (!tags) {\n      continue\n    }\n\n    const parentElement = doc.createElement(tags[0])\n    let parent = parentElement\n    let child = parentElement\n    tags.slice(1).forEach((tag) => {\n      child = doc.createElement(tag)\n      parent.appendChild(child)\n      parent = child\n    })\n    child.appendChild(text)\n    mappedElm?.parentNode?.replaceChild(parentElement, mappedElm)\n  }\n\n  return doc\n}\n","import preprocessGDocs from './gdocs'\nimport preprocessHTML from './html'\nimport preprocessNotion from './notion'\nimport preprocessWhitespace from './whitespace'\nimport preprocessWord from './word'\n\nexport default [\n  preprocessWhitespace,\n  preprocessNotion,\n  preprocessWord,\n  preprocessGDocs,\n  preprocessHTML,\n]\n","import {\n  isPortableTextTextBlock,\n  type ArraySchemaType,\n  type PortableTextTextBlock,\n} from '@sanity/types'\nimport {vercelStegaClean} from '@vercel/stega'\nimport {isEqual} from 'lodash'\nimport {DEFAULT_BLOCK} from '../constants'\nimport type {\n  BlockEnabledFeatures,\n  HtmlParser,\n  HtmlPreprocessorOptions,\n  MinimalBlock,\n  MinimalSpan,\n  PlaceholderAnnotation,\n  PlaceholderDecorator,\n  TypedObject,\n} from '../types'\nimport blockContentTypeFeatures from '../util/blockContentTypeFeatures'\nimport {resolveJsType} from '../util/resolveJsType'\nimport preprocessors from './preprocessors'\n\n/**\n * A utility function to create the options needed for the various rule sets,\n * based on the structure of the blockContentType\n *\n * @param blockContentType - Schema type for array containing _at least_ a block child type\n * @returns\n */\nexport function createRuleOptions(\n  blockContentType: ArraySchemaType,\n): BlockEnabledFeatures {\n  const features = blockContentTypeFeatures(blockContentType)\n  const enabledBlockStyles = features.styles.map(\n    (item) => item.value || item.title,\n  )\n  const enabledSpanDecorators = features.decorators.map(\n    (item) => item.value || item.title,\n  )\n  const enabledBlockAnnotations = features.annotations.map(\n    (item) => item.value || item.title || '',\n  )\n  const enabledListTypes = features.lists.map(\n    (item) => item.value || item.title || '',\n  )\n  return {\n    enabledBlockStyles,\n    enabledSpanDecorators,\n    enabledBlockAnnotations,\n    enabledListTypes,\n  }\n}\n\n/**\n * Utility function that always return a lowerCase version of the element.tagName\n *\n * @param el - Element to get tag name for\n * @returns Lowercase tagName for that element, or undefined if not an element\n */\nexport function tagName(el: HTMLElement | Node | null): string | undefined {\n  if (el && 'tagName' in el) {\n    return el.tagName.toLowerCase()\n  }\n\n  return undefined\n}\n\n// TODO: make this plugin-style\nexport function preprocess(\n  html: string,\n  parseHtml: HtmlParser,\n  options: HtmlPreprocessorOptions,\n): Document {\n  const cleanHTML = vercelStegaClean(html)\n  const doc = parseHtml(normalizeHtmlBeforePreprocess(cleanHTML))\n  preprocessors.forEach((processor) => {\n    processor(cleanHTML, doc, options)\n  })\n  return doc\n}\n\nfunction normalizeHtmlBeforePreprocess(html: string): string {\n  return html.trim()\n}\n\n/**\n * A default `parseHtml` function that returns the html using `DOMParser`.\n *\n * @returns HTML Parser based on `DOMParser`\n */\nexport function defaultParseHtml(): HtmlParser {\n  if (resolveJsType(DOMParser) === 'undefined') {\n    throw new Error(\n      'The native `DOMParser` global which the `Html` deserializer uses by ' +\n        'default is not present in this environment. ' +\n        'You must supply the `options.parseHtml` function instead.',\n    )\n  }\n  return (html) => {\n    return new DOMParser().parseFromString(html, 'text/html')\n  }\n}\n\nexport function flattenNestedBlocks(blocks: TypedObject[]): TypedObject[] {\n  let depth = 0\n  const flattened: TypedObject[] = []\n  const traverse = (nodes: TypedObject[]) => {\n    const toRemove: TypedObject[] = []\n    nodes.forEach((node) => {\n      if (depth === 0) {\n        flattened.push(node)\n      }\n      if (isPortableTextTextBlock(node)) {\n        if (depth > 0) {\n          toRemove.push(node)\n          flattened.push(node)\n        }\n        depth++\n        traverse(node.children)\n      }\n      if (node._type === '__block') {\n        toRemove.push(node)\n        flattened.push((node as any).block)\n      }\n    })\n    toRemove.forEach((node) => {\n      nodes.splice(nodes.indexOf(node), 1)\n    })\n    depth--\n  }\n  traverse(blocks)\n  return flattened\n}\n\nfunction nextSpan(block: PortableTextTextBlock, index: number) {\n  const next = block.children[index + 1]\n  return next && next._type === 'span' ? next : null\n}\n\nfunction prevSpan(block: PortableTextTextBlock, index: number) {\n  const prev = block.children[index - 1]\n  return prev && prev._type === 'span' ? prev : null\n}\n\nfunction isWhiteSpaceChar(text: string) {\n  return ['\\xa0', ' '].includes(text)\n}\n\n/**\n * NOTE: _mutates_ passed blocks!\n *\n * @param blocks - Array of blocks to trim whitespace for\n * @returns\n */\nexport function trimWhitespace(blocks: TypedObject[]): TypedObject[] {\n  blocks.forEach((block) => {\n    if (!isPortableTextTextBlock(block)) {\n      return\n    }\n\n    // eslint-disable-next-line complexity\n    block.children.forEach((child, index) => {\n      if (!isMinimalSpan(child)) {\n        return\n      }\n      const nextChild = nextSpan(block, index)\n      const prevChild = prevSpan(block, index)\n      if (index === 0) {\n        child.text = child.text.replace(/^[^\\S\\n]+/g, '')\n      }\n      if (index === block.children.length - 1) {\n        child.text = child.text.replace(/[^\\S\\n]+$/g, '')\n      }\n      if (\n        /\\s/.test(child.text.slice(Math.max(0, child.text.length - 1))) &&\n        nextChild &&\n        isMinimalSpan(nextChild) &&\n        /\\s/.test(nextChild.text.slice(0, 1))\n      ) {\n        child.text = child.text.replace(/[^\\S\\n]+$/g, '')\n      }\n      if (\n        /\\s/.test(child.text.slice(0, 1)) &&\n        prevChild &&\n        isMinimalSpan(prevChild) &&\n        /\\s/.test(prevChild.text.slice(Math.max(0, prevChild.text.length - 1)))\n      ) {\n        child.text = child.text.replace(/^[^\\S\\n]+/g, '')\n      }\n      if (!child.text) {\n        block.children.splice(index, 1)\n      }\n      if (\n        prevChild &&\n        isEqual(prevChild.marks, child.marks) &&\n        isWhiteSpaceChar(child.text)\n      ) {\n        prevChild.text += ' '\n        block.children.splice(index, 1)\n      } else if (\n        nextChild &&\n        isEqual(nextChild.marks, child.marks) &&\n        isWhiteSpaceChar(child.text)\n      ) {\n        nextChild.text = ` ${nextChild.text}`\n        block.children.splice(index, 1)\n      }\n    })\n  })\n\n  return blocks\n}\n\nexport function ensureRootIsBlocks(blocks: TypedObject[]): TypedObject[] {\n  return blocks.reduce((memo, node, i, original) => {\n    if (node._type === 'block') {\n      memo.push(node)\n      return memo\n    }\n\n    if (node._type === '__block') {\n      memo.push((node as any).block)\n      return memo\n    }\n\n    const lastBlock = memo[memo.length - 1]\n    if (\n      i > 0 &&\n      !isPortableTextTextBlock(original[i - 1]) &&\n      isPortableTextTextBlock<TypedObject>(lastBlock)\n    ) {\n      lastBlock.children.push(node)\n      return memo\n    }\n\n    const block = {\n      ...DEFAULT_BLOCK,\n      children: [node],\n    }\n\n    memo.push(block)\n    return memo\n  }, [] as TypedObject[])\n}\n\nexport function isNodeList(node: unknown): node is NodeList {\n  return Object.prototype.toString.call(node) === '[object NodeList]'\n}\n\nexport function isMinimalSpan(node: TypedObject): node is MinimalSpan {\n  return node._type === 'span'\n}\n\nexport function isMinimalBlock(node: TypedObject): node is MinimalBlock {\n  return node._type === 'block'\n}\n\nexport function isPlaceholderDecorator(\n  node: TypedObject,\n): node is PlaceholderDecorator {\n  return node._type === '__decorator'\n}\n\nexport function isPlaceholderAnnotation(\n  node: TypedObject,\n): node is PlaceholderAnnotation {\n  return node._type === '__annotation'\n}\n\nexport function isElement(node: Node): node is Element {\n  return node.nodeType === 1\n}\n\n/**\n * Helper to normalize whitespace to only 1 empty block between content nodes\n * @param node - Root node to process\n */\nexport function normalizeWhitespace(rootNode: Node) {\n  let emptyBlockCount = 0\n  let lastParent = null\n  const nodesToRemove: Node[] = []\n\n  for (let child = rootNode.firstChild; child; child = child.nextSibling) {\n    if (!isElement(child)) {\n      normalizeWhitespace(child)\n      emptyBlockCount = 0\n      continue\n    }\n\n    const elm = child as HTMLElement\n\n    if (isWhitespaceBlock(elm)) {\n      if (lastParent && elm.parentElement === lastParent) {\n        emptyBlockCount++\n        if (emptyBlockCount > 1) {\n          nodesToRemove.push(elm)\n        }\n      } else {\n        // Different parent, reset counter\n        emptyBlockCount = 1\n      }\n\n      lastParent = elm.parentElement\n    } else {\n      // Recurse into child nodes\n      normalizeWhitespace(child)\n      // Reset counter for siblings\n      emptyBlockCount = 0\n    }\n  }\n\n  // Remove marked nodes\n  nodesToRemove.forEach((node) => node.parentElement?.removeChild(node))\n}\n\n/**\n * Helper to remove all whitespace nodes\n * @param node - Root node to process\n */\nexport function removeAllWhitespace(rootNode: Node) {\n  const nodesToRemove: Node[] = []\n\n  function collectNodesToRemove(currentNode: Node) {\n    if (isElement(currentNode)) {\n      const elm = currentNode as HTMLElement\n\n      // Handle <br> tags that is between <p> tags\n      if (\n        tagName(elm) === 'br' &&\n        (tagName(elm.nextElementSibling) === 'p' ||\n          tagName(elm.previousElementSibling) === 'p')\n      ) {\n        nodesToRemove.push(elm)\n\n        return\n      }\n\n      // Handle empty blocks\n      if (\n        (tagName(elm) === 'p' || tagName(elm) === 'br') &&\n        elm?.firstChild?.textContent?.trim() === ''\n      ) {\n        nodesToRemove.push(elm)\n\n        return\n      }\n\n      // Recursively process child nodes\n      for (let child = elm.firstChild; child; child = child.nextSibling) {\n        collectNodesToRemove(child)\n      }\n    }\n  }\n\n  collectNodesToRemove(rootNode)\n\n  // Remove the collected nodes\n  nodesToRemove.forEach((node) => node.parentElement?.removeChild(node))\n}\n\nfunction isWhitespaceBlock(elm: HTMLElement): boolean {\n  return ['p', 'br'].includes(tagName(elm) || '') && !elm.textContent?.trim()\n}\n","import type {ArraySchemaType} from '@sanity/types'\nimport {\n  BLOCK_DEFAULT_STYLE,\n  DEFAULT_BLOCK,\n  DEFAULT_SPAN,\n  HTML_BLOCK_TAGS,\n  HTML_HEADER_TAGS,\n  HTML_LIST_CONTAINER_TAGS,\n} from '../../constants'\nimport type {BlockEnabledFeatures, DeserializerRule} from '../../types'\nimport {isElement, tagName} from '../helpers'\n\nconst LIST_CONTAINER_TAGS = Object.keys(HTML_LIST_CONTAINER_TAGS)\n\n// font-style:italic seems like the most important rule for italic / emphasis in their html\nfunction isEmphasis(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /font-style\\s*:\\s*italic/.test(style || '')\n}\n\n// font-weight:700 seems like the most important rule for bold in their html\nfunction isStrong(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /font-weight\\s*:\\s*700/.test(style || '')\n}\n\n// text-decoration seems like the most important rule for underline in their html\nfunction isUnderline(el: Node): boolean {\n  if (!isElement(el) || tagName(el.parentNode) === 'a') {\n    return false\n  }\n\n  const style = isElement(el) && el.getAttribute('style')\n\n  return /text-decoration\\s*:\\s*underline/.test(style || '')\n}\n\n// text-decoration seems like the most important rule for strike-through in their html\n// allows for line-through regex to be more lineient to allow for other text-decoration before or after\nfunction isStrikethrough(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /text-decoration\\s*:\\s*(?:.*line-through.*;)/.test(style || '')\n}\n\n// Check for attribute given by the gdocs preprocessor\nfunction isGoogleDocs(el: Node): boolean {\n  return isElement(el) && Boolean(el.getAttribute('data-is-google-docs'))\n}\n\nfunction isRootNode(el: Node): boolean {\n  return isElement(el) && Boolean(el.getAttribute('data-is-root-node'))\n}\n\nfunction getListItemStyle(el: Node): 'bullet' | 'number' | undefined {\n  const parentTag = tagName(el.parentNode)\n  if (parentTag && !LIST_CONTAINER_TAGS.includes(parentTag)) {\n    return undefined\n  }\n  return tagName(el.parentNode) === 'ul' ? 'bullet' : 'number'\n}\n\nfunction getListItemLevel(el: Node): number {\n  let level = 0\n  if (tagName(el) === 'li') {\n    let parentNode = el.parentNode\n    while (parentNode) {\n      const parentTag = tagName(parentNode)\n      if (parentTag && LIST_CONTAINER_TAGS.includes(parentTag)) {\n        level++\n      }\n      parentNode = parentNode.parentNode\n    }\n  } else {\n    level = 1\n  }\n  return level\n}\n\nconst blocks: Record<string, {style: string} | undefined> = {\n  ...HTML_BLOCK_TAGS,\n  ...HTML_HEADER_TAGS,\n}\n\nfunction getBlockStyle(el: Node, enabledBlockStyles: string[]): string {\n  const childTag = tagName(el.firstChild)\n  const block = childTag && blocks[childTag]\n  if (!block) {\n    return BLOCK_DEFAULT_STYLE\n  }\n  if (!enabledBlockStyles.includes(block.style)) {\n    return BLOCK_DEFAULT_STYLE\n  }\n  return block.style\n}\n\nexport default function createGDocsRules(\n  _blockContentType: ArraySchemaType,\n  options: BlockEnabledFeatures,\n): DeserializerRule[] {\n  return [\n    {\n      deserialize(el) {\n        if (isElement(el) && tagName(el) === 'span' && isGoogleDocs(el)) {\n          const span = {\n            ...DEFAULT_SPAN,\n            marks: [] as string[],\n            text: el.textContent,\n          }\n          if (isStrong(el)) {\n            span.marks.push('strong')\n          }\n          if (isUnderline(el)) {\n            span.marks.push('underline')\n          }\n          if (isStrikethrough(el)) {\n            span.marks.push('strike-through')\n          }\n          if (isEmphasis(el)) {\n            span.marks.push('em')\n          }\n          return span\n        }\n        return undefined\n      },\n    },\n    {\n      deserialize(el, next) {\n        if (tagName(el) === 'li' && isGoogleDocs(el)) {\n          return {\n            ...DEFAULT_BLOCK,\n            listItem: getListItemStyle(el),\n            level: getListItemLevel(el),\n            style: getBlockStyle(el, options.enabledBlockStyles),\n            children: next(el.firstChild?.childNodes || []),\n          }\n        }\n        return undefined\n      },\n    },\n    {\n      deserialize(el) {\n        if (\n          tagName(el) === 'br' &&\n          isGoogleDocs(el) &&\n          isElement(el) &&\n          el.classList.contains('apple-interchange-newline')\n        ) {\n          return {\n            ...DEFAULT_SPAN,\n            text: '',\n          }\n        }\n\n        // BRs inside empty paragraphs\n        if (\n          tagName(el) === 'br' &&\n          isGoogleDocs(el) &&\n          isElement(el) &&\n          el?.parentNode?.textContent === ''\n        ) {\n          return {\n            ...DEFAULT_SPAN,\n            text: '',\n          }\n        }\n\n        // BRs on the root\n        if (\n          tagName(el) === 'br' &&\n          isGoogleDocs(el) &&\n          isElement(el) &&\n          isRootNode(el)\n        ) {\n          return {\n            ...DEFAULT_SPAN,\n            text: '',\n          }\n        }\n        return undefined\n      },\n    },\n  ]\n}\n","import getRandomValues from 'get-random-values-esm'\n\nexport function keyGenerator() {\n  return randomKey(12)\n}\n\n// WHATWG crypto RNG - https://w3c.github.io/webcrypto/Overview.html\nfunction whatwgRNG(length = 16) {\n  const rnds8 = new Uint8Array(length)\n  getRandomValues(rnds8)\n  return rnds8\n}\n\nconst byteToHex: string[] = []\nfor (let i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).slice(1)\n}\n\n/**\n * Generate a random key of the given length\n *\n * @param length - Length of string to generate\n * @returns A string of the given length\n * @public\n */\nexport function randomKey(length: number): string {\n  return whatwgRNG(length)\n    .reduce((str, n) => str + byteToHex[n], '')\n    .slice(0, length)\n}\n","import {DEFAULT_SPAN} from '../../constants'\nimport type {DeserializerRule} from '../../types'\nimport {tagName} from '../helpers'\n\nexport const whitespaceTextNodeRule: DeserializerRule = {\n  deserialize(node) {\n    return node.nodeName === '#text' && isWhitespaceTextNode(node)\n      ? {\n          ...DEFAULT_SPAN,\n          marks: [],\n          text: (node.textContent ?? '').replace(/\\s\\s+/g, ' '),\n        }\n      : undefined\n  },\n}\n\nfunction isWhitespaceTextNode(node: Node) {\n  const isValidWhiteSpace =\n    node.nodeType === 3 &&\n    (node.textContent || '').replace(/[\\r\\n]/g, ' ').replace(/\\s\\s+/g, ' ') ===\n      ' ' &&\n    node.nextSibling &&\n    node.nextSibling.nodeType !== 3 &&\n    node.previousSibling &&\n    node.previousSibling.nodeType !== 3\n\n  return (\n    (isValidWhiteSpace || node.textContent !== ' ') &&\n    tagName(node.parentNode) !== 'body'\n  )\n}\n","import type {ArraySchemaType, TypedObject} from '@sanity/types'\nimport {\n  DEFAULT_BLOCK,\n  DEFAULT_SPAN,\n  HTML_BLOCK_TAGS,\n  HTML_DECORATOR_TAGS,\n  HTML_HEADER_TAGS,\n  HTML_LIST_CONTAINER_TAGS,\n  HTML_LIST_ITEM_TAGS,\n  HTML_SPAN_TAGS,\n  type PartialBlock,\n} from '../../constants'\nimport type {BlockEnabledFeatures, DeserializerRule} from '../../types'\nimport {keyGenerator} from '../../util/randomKey'\nimport {isElement, tagName} from '../helpers'\nimport {whitespaceTextNodeRule} from './whitespace-text-node'\n\nexport function resolveListItem(\n  listNodeTagName: string,\n  enabledListTypes: string[],\n): string | undefined {\n  if (listNodeTagName === 'ul' && enabledListTypes.includes('bullet')) {\n    return 'bullet'\n  }\n  if (listNodeTagName === 'ol' && enabledListTypes.includes('number')) {\n    return 'number'\n  }\n  return undefined\n}\n\nexport default function createHTMLRules(\n  _blockContentType: ArraySchemaType,\n  options: BlockEnabledFeatures & {keyGenerator?: () => string},\n): DeserializerRule[] {\n  return [\n    whitespaceTextNodeRule,\n    {\n      // Pre element\n      deserialize(el) {\n        if (tagName(el) !== 'pre') {\n          return undefined\n        }\n\n        const isCodeEnabled = options.enabledBlockStyles.includes('code')\n\n        return {\n          _type: 'block',\n          style: 'normal',\n          markDefs: [],\n          children: [\n            {\n              ...DEFAULT_SPAN,\n              marks: isCodeEnabled ? ['code'] : [],\n              text: el.textContent || '',\n            },\n          ],\n        }\n      },\n    }, // Blockquote element\n    {\n      deserialize(el, next) {\n        if (tagName(el) !== 'blockquote') {\n          return undefined\n        }\n        const blocks: Record<string, PartialBlock | undefined> = {\n          ...HTML_BLOCK_TAGS,\n          ...HTML_HEADER_TAGS,\n        }\n        delete blocks.blockquote\n        const nonBlockquoteBlocks = Object.keys(blocks)\n\n        const children: HTMLElement[] = []\n\n        el.childNodes.forEach((node, index) => {\n          if (!el.ownerDocument) {\n            return\n          }\n\n          if (\n            node.nodeType === 1 &&\n            nonBlockquoteBlocks.includes(\n              (node as Element).localName.toLowerCase(),\n            )\n          ) {\n            const span = el.ownerDocument.createElement('span')\n\n            const previousChild = children[children.length - 1]\n\n            if (\n              previousChild &&\n              previousChild.nodeType === 3 &&\n              previousChild.textContent?.trim()\n            ) {\n              // Only prepend line break if the previous node is a non-empty\n              // text node.\n              span.appendChild(el.ownerDocument.createTextNode('\\r'))\n            }\n\n            node.childNodes.forEach((cn) => {\n              span.appendChild(cn.cloneNode(true))\n            })\n\n            if (index !== el.childNodes.length) {\n              // Only append line break if this is not the last child\n              span.appendChild(el.ownerDocument.createTextNode('\\r'))\n            }\n\n            children.push(span)\n          } else {\n            children.push(node as HTMLElement)\n          }\n        })\n\n        return {\n          _type: 'block',\n          style: 'blockquote',\n          markDefs: [],\n          children: next(children),\n        }\n      },\n    }, // Block elements\n    {\n      deserialize(el, next) {\n        const blocks: Record<string, PartialBlock | undefined> = {\n          ...HTML_BLOCK_TAGS,\n          ...HTML_HEADER_TAGS,\n        }\n        const tag = tagName(el)\n        let block = tag ? blocks[tag] : undefined\n        if (!block) {\n          return undefined\n        }\n        // Don't add blocks into list items\n        if (el.parentNode && tagName(el.parentNode) === 'li') {\n          return next(el.childNodes)\n        }\n        // If style is not supported, return a defaultBlockType\n        if (!options.enabledBlockStyles.includes(block.style)) {\n          block = DEFAULT_BLOCK\n        }\n        return {\n          ...block,\n          children: next(el.childNodes),\n        }\n      },\n    }, // Ignore span tags\n    {\n      deserialize(el, next) {\n        const tag = tagName(el)\n        if (!tag || !(tag in HTML_SPAN_TAGS)) {\n          return undefined\n        }\n        return next(el.childNodes)\n      },\n    }, // Ignore div tags\n    {\n      deserialize(el, next) {\n        const div = tagName(el) === 'div'\n        if (!div) {\n          return undefined\n        }\n        return next(el.childNodes)\n      },\n    }, // Ignore list containers\n    {\n      deserialize(el, next) {\n        const tag = tagName(el)\n        if (!tag || !(tag in HTML_LIST_CONTAINER_TAGS)) {\n          return undefined\n        }\n        return next(el.childNodes)\n      },\n    }, // Deal with br's\n    {\n      deserialize(el) {\n        if (tagName(el) === 'br') {\n          return {\n            ...DEFAULT_SPAN,\n            text: '\\n',\n          }\n        }\n        return undefined\n      },\n    }, // Deal with list items\n    {\n      deserialize(el, next, block) {\n        const tag = tagName(el)\n        const listItem = tag ? HTML_LIST_ITEM_TAGS[tag] : undefined\n        const parentTag = tagName(el.parentNode) || ''\n        if (\n          !listItem ||\n          !el.parentNode ||\n          !HTML_LIST_CONTAINER_TAGS[parentTag]\n        ) {\n          return undefined\n        }\n        const enabledListItem = resolveListItem(\n          parentTag,\n          options.enabledListTypes,\n        )\n        // If the list item style is not supported, return a new default block\n        if (!enabledListItem) {\n          return block({_type: 'block', children: next(el.childNodes)})\n        }\n        listItem.listItem = enabledListItem\n        return {\n          ...listItem,\n          children: next(el.childNodes),\n        }\n      },\n    }, // Deal with decorators - this is a limited set of known html elements that we know how to deserialize\n    {\n      deserialize(el, next) {\n        const decorator = HTML_DECORATOR_TAGS[tagName(el) || '']\n        if (!decorator || !options.enabledSpanDecorators.includes(decorator)) {\n          return undefined\n        }\n        return {\n          _type: '__decorator',\n          name: decorator,\n          children: next(el.childNodes),\n        }\n      },\n    }, // Special case for hyperlinks, add annotation (if allowed by schema),\n    // If not supported just write out the link text and href in plain text.\n    {\n      deserialize(el, next) {\n        if (tagName(el) !== 'a') {\n          return undefined\n        }\n        const linkEnabled = options.enabledBlockAnnotations.includes('link')\n        const href = isElement(el) && el.getAttribute('href')\n        if (!href) {\n          return next(el.childNodes)\n        }\n        let markDef: TypedObject | undefined\n        if (linkEnabled) {\n          markDef = {\n            _key: options.keyGenerator\n              ? options.keyGenerator()\n              : keyGenerator(),\n            _type: 'link',\n            href: href,\n          }\n          return {\n            _type: '__annotation',\n            markDef: markDef,\n            children: next(el.childNodes),\n          }\n        }\n        return (\n          el.appendChild(el.ownerDocument.createTextNode(` (${href})`)) &&\n          next(el.childNodes)\n        )\n      },\n    },\n  ]\n}\n","import type {ArraySchemaType} from '@sanity/types'\nimport {DEFAULT_SPAN} from '../../constants'\nimport type {DeserializerRule} from '../../types'\nimport {isElement, tagName} from '../helpers'\n\n// font-style:italic seems like the most important rule for italic / emphasis in their html\nfunction isEmphasis(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /font-style:italic/.test(style || '')\n}\n\n// font-weight:700 or 600 seems like the most important rule for bold in their html\nfunction isStrong(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return (\n    /font-weight:700/.test(style || '') || /font-weight:600/.test(style || '')\n  )\n}\n\n// text-decoration seems like the most important rule for underline in their html\nfunction isUnderline(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /text-decoration:underline/.test(style || '')\n}\n\n// Check for attribute given by the Notion preprocessor\nfunction isNotion(el: Node): boolean {\n  return isElement(el) && Boolean(el.getAttribute('data-is-notion'))\n}\n\nexport default function createNotionRules(\n  _blockContentType: ArraySchemaType,\n): DeserializerRule[] {\n  return [\n    {\n      deserialize(el) {\n        // Notion normally exports semantic HTML. However, if you copy a single block, the formatting will be inline styles\n        // This handles a limited set of styles\n        if (isElement(el) && tagName(el) === 'span' && isNotion(el)) {\n          const span = {\n            ...DEFAULT_SPAN,\n            marks: [] as string[],\n            text: el.textContent,\n          }\n          if (isStrong(el)) {\n            span.marks.push('strong')\n          }\n          if (isUnderline(el)) {\n            span.marks.push('underline')\n          }\n          if (isEmphasis(el)) {\n            span.marks.push('em')\n          }\n          return span\n        }\n        return undefined\n      },\n    },\n  ]\n}\n","import {BLOCK_DEFAULT_STYLE, DEFAULT_BLOCK} from '../../constants'\nimport type {DeserializerRule} from '../../types'\nimport {isElement, tagName} from '../helpers'\n\nfunction getListItemStyle(el: Node): string | undefined {\n  const style = isElement(el) && el.getAttribute('style')\n  if (!style) {\n    return undefined\n  }\n\n  if (!style.match(/lfo\\d+/)) {\n    return undefined\n  }\n\n  return style.match('lfo1') ? 'bullet' : 'number'\n}\n\nfunction getListItemLevel(el: Node): number | undefined {\n  const style = isElement(el) && el.getAttribute('style')\n  if (!style) {\n    return undefined\n  }\n\n  const levelMatch = style.match(/level\\d+/)\n  if (!levelMatch) {\n    return undefined\n  }\n\n  const [level] = levelMatch[0].match(/\\d/) || []\n  const levelNum = level ? Number.parseInt(level, 10) : 1\n  return levelNum || 1\n}\n\nfunction isWordListElement(el: Node): boolean {\n  return isElement(el) && el.className\n    ? el.className === 'MsoListParagraphCxSpFirst' ||\n        el.className === 'MsoListParagraphCxSpMiddle' ||\n        el.className === 'MsoListParagraphCxSpLast'\n    : false\n}\n\nexport default function createWordRules(): DeserializerRule[] {\n  return [\n    {\n      deserialize(el, next) {\n        if (tagName(el) === 'p' && isWordListElement(el)) {\n          return {\n            ...DEFAULT_BLOCK,\n            listItem: getListItemStyle(el),\n            level: getListItemLevel(el),\n            style: BLOCK_DEFAULT_STYLE,\n            children: next(el.childNodes),\n          }\n        }\n        return undefined\n      },\n    },\n  ]\n}\n","import type {ArraySchemaType} from '@sanity/types'\nimport type {BlockEnabledFeatures, DeserializerRule} from '../../types'\nimport createGDocsRules from './gdocs'\nimport createHTMLRules from './html'\nimport createNotionRules from './notion'\nimport createWordRules from './word'\n\nexport function createRules(\n  blockContentType: ArraySchemaType,\n  options: BlockEnabledFeatures & {keyGenerator?: () => string},\n): DeserializerRule[] {\n  return [\n    ...createWordRules(),\n    ...createNotionRules(blockContentType),\n    ...createGDocsRules(blockContentType, options),\n    ...createHTMLRules(blockContentType, options),\n  ]\n}\n","import type {\n  ArraySchemaType,\n  PortableTextBlock,\n  PortableTextObject,\n  PortableTextTextBlock,\n} from '@sanity/types'\nimport {flatten} from 'lodash'\nimport type {\n  ArbitraryTypedObject,\n  DeserializerRule,\n  HtmlDeserializerOptions,\n  PlaceholderAnnotation,\n  PlaceholderDecorator,\n  TypedObject,\n} from '../types'\nimport {findBlockType} from '../util/findBlockType'\nimport {resolveJsType} from '../util/resolveJsType'\nimport {\n  createRuleOptions,\n  defaultParseHtml,\n  ensureRootIsBlocks,\n  flattenNestedBlocks,\n  isMinimalBlock,\n  isMinimalSpan,\n  isNodeList,\n  isPlaceholderAnnotation,\n  isPlaceholderDecorator,\n  preprocess,\n  tagName,\n  trimWhitespace,\n} from './helpers'\nimport {createRules} from './rules'\n\n/**\n * HTML Deserializer\n *\n */\nexport default class HtmlDeserializer {\n  blockContentType: ArraySchemaType\n  rules: DeserializerRule[]\n  parseHtml: (html: string) => HTMLElement\n  _markDefs: PortableTextObject[] = []\n\n  /**\n   * Create a new serializer respecting a Sanity block content type's schema\n   *\n   * @param blockContentType - Schema type for array containing _at least_ a block child type\n   * @param options - Options for the deserialization process\n   */\n  constructor(\n    blockContentType: ArraySchemaType,\n    options: HtmlDeserializerOptions = {},\n  ) {\n    const {rules = [], unstable_whitespaceOnPasteMode = 'preserve'} = options\n    if (!blockContentType) {\n      throw new Error(\"Parameter 'blockContentType' is required\")\n    }\n    const standardRules = createRules(blockContentType, {\n      ...createRuleOptions(blockContentType),\n      keyGenerator: options.keyGenerator,\n    })\n    this.rules = [...rules, ...standardRules]\n    const parseHtml = options.parseHtml || defaultParseHtml()\n    this.blockContentType = blockContentType\n    this.parseHtml = (html) => {\n      const doc = preprocess(html, parseHtml, {unstable_whitespaceOnPasteMode})\n      return doc.body\n    }\n  }\n\n  /**\n   * Deserialize HTML.\n   *\n   * @param html - The HTML to deserialize, as a string\n   * @returns Array of blocks - either portable text blocks or other allowed blocks\n   */\n  deserialize = (html: string): TypedObject[] => {\n    this._markDefs = []\n    const {parseHtml} = this\n    const fragment = parseHtml(html)\n    const children = Array.from(fragment.childNodes) as HTMLElement[]\n    // Ensure that there are no blocks within blocks, and trim whitespace\n    const blocks = trimWhitespace(\n      flattenNestedBlocks(\n        ensureRootIsBlocks(this.deserializeElements(children)),\n      ),\n    )\n\n    if (this._markDefs.length > 0) {\n      blocks\n        .filter(\n          (block): block is PortableTextTextBlock => block._type === 'block',\n        )\n        .forEach((block) => {\n          block.markDefs = block.markDefs || []\n          block.markDefs = block.markDefs.concat(\n            this._markDefs.filter((def) => {\n              return flatten(\n                block.children.map((child) => child.marks || []),\n              ).includes(def._key)\n            }),\n          )\n        })\n    }\n\n    // Set back the potentially hoisted block type\n    const type = this.blockContentType.of.find(findBlockType)\n    if (!type) {\n      return blocks\n    }\n\n    return blocks.map((block) => {\n      if (block._type === 'block') {\n        block._type = type.name\n      }\n      return block\n    })\n  }\n\n  /**\n   * Deserialize an array of DOM elements.\n   *\n   * @param elements - Array of DOM elements to deserialize\n   * @returns\n   */\n  deserializeElements = (elements: Node[] = []): TypedObject[] => {\n    let nodes: TypedObject[] = []\n    elements.forEach((element) => {\n      nodes = nodes.concat(this.deserializeElement(element))\n    })\n    return nodes\n  }\n\n  /**\n   * Deserialize a DOM element\n   *\n   * @param element - Deserialize a DOM element\n   * @returns\n   */\n  deserializeElement = (element: Node): TypedObject | TypedObject[] => {\n    const next = (\n      elements: Node | Node[] | NodeList,\n    ): TypedObject | TypedObject[] | undefined => {\n      if (isNodeList(elements)) {\n        return this.deserializeElements(Array.from(elements))\n      }\n\n      if (Array.isArray(elements)) {\n        return this.deserializeElements(elements)\n      }\n\n      if (!elements) {\n        return undefined\n      }\n\n      return this.deserializeElement(elements)\n    }\n\n    const block = (props: ArbitraryTypedObject) => {\n      return {\n        _type: '__block',\n        block: props,\n      }\n    }\n\n    let node: TypedObject | Array<TypedObject> | undefined\n    for (let i = 0; i < this.rules.length; i++) {\n      const rule = this.rules[i]\n      if (!rule.deserialize) {\n        continue\n      }\n\n      const ret = rule.deserialize(element, next, block)\n      const type = resolveJsType(ret)\n\n      if (\n        type !== 'array' &&\n        type !== 'object' &&\n        type !== 'null' &&\n        type !== 'undefined'\n      ) {\n        throw new Error(\n          `A rule returned an invalid deserialized representation: \"${node}\".`,\n        )\n      }\n\n      if (ret === undefined) {\n        continue\n      } else if (ret === null) {\n        throw new Error('Deserializer rule returned `null`')\n      } else if (Array.isArray(ret)) {\n        node = ret\n      } else if (isPlaceholderDecorator(ret)) {\n        node = this.deserializeDecorator(ret)\n      } else if (isPlaceholderAnnotation(ret)) {\n        node = this.deserializeAnnotation(ret)\n      } else {\n        node = ret\n      }\n\n      // Set list level on list item\n      if (\n        ret &&\n        !Array.isArray(ret) &&\n        isMinimalBlock(ret) &&\n        'listItem' in ret\n      ) {\n        let parent = element.parentNode?.parentNode\n        while (parent && tagName(parent) === 'li') {\n          parent = parent.parentNode?.parentNode\n          ret.level = ret.level ? ret.level + 1 : 1\n        }\n      }\n\n      // Set newlines on spans orginating from a block element within a blockquote\n      if (\n        ret &&\n        !Array.isArray(ret) &&\n        isMinimalBlock(ret) &&\n        ret.style === 'blockquote'\n      ) {\n        ret.children.forEach((child, index) => {\n          if (isMinimalSpan(child) && child.text === '\\r') {\n            child.text = '\\n'\n            if (index === 0 || index === ret.children.length - 1) {\n              ret.children.splice(index, 1)\n            }\n          }\n        })\n      }\n      break\n    }\n\n    return node || next(element.childNodes) || []\n  }\n\n  /**\n   * Deserialize a `__decorator` type\n   * (an internal made up type to process decorators exclusively)\n   *\n   * @param decorator -\n   * @returns array of ...\n   */\n  deserializeDecorator = (decorator: PlaceholderDecorator): TypedObject[] => {\n    const {name} = decorator\n    const applyDecorator = (node: TypedObject) => {\n      if (isPlaceholderDecorator(node)) {\n        return this.deserializeDecorator(node)\n      } else if (isMinimalSpan(node)) {\n        node.marks = node.marks || []\n        if (node.text.trim()) {\n          // Only apply marks if this is an actual text\n          node.marks.unshift(name)\n        }\n      } else if (\n        'children' in node &&\n        Array.isArray((node as PortableTextBlock).children)\n      ) {\n        const block = node as any\n        block.children = block.children.map(applyDecorator)\n      }\n      return node\n    }\n    return decorator.children.reduce((children, node) => {\n      const ret = applyDecorator(node)\n      if (Array.isArray(ret)) {\n        return children.concat(ret)\n      }\n      children.push(ret)\n      return children\n    }, [] as TypedObject[])\n  }\n\n  /**\n   * Deserialize a `__annotation` object.\n   * (an internal made up type to process annotations exclusively)\n   *\n   * @param annotation -\n   * @returns Array of...\n   */\n  deserializeAnnotation = (\n    annotation: PlaceholderAnnotation,\n  ): TypedObject[] => {\n    const {markDef} = annotation\n    this._markDefs.push(markDef)\n    const applyAnnotation = (node: TypedObject) => {\n      if (isPlaceholderAnnotation(node)) {\n        return this.deserializeAnnotation(node)\n      } else if (isMinimalSpan(node)) {\n        node.marks = node.marks || []\n        if (node.text.trim()) {\n          // Only apply marks if this is an actual text\n          node.marks.unshift(markDef._key)\n        }\n      } else if (\n        'children' in node &&\n        Array.isArray((node as PortableTextBlock).children)\n      ) {\n        const block = node as any\n        block.children = block.children.map(applyAnnotation)\n      }\n      return node\n    }\n    return annotation.children.reduce((children, node) => {\n      const ret = applyAnnotation(node)\n      if (Array.isArray(ret)) {\n        return children.concat(ret)\n      }\n      children.push(ret)\n      return children\n    }, [] as TypedObject[])\n  }\n}\n","import {\n  isPortableTextSpan,\n  type PortableTextSpan,\n  type PortableTextTextBlock,\n} from '@sanity/types'\nimport {isEqual} from 'lodash'\nimport type {TypedObject} from '../types'\nimport {keyGenerator} from './randomKey'\n\n/**\n * Block normalization options\n *\n * @public\n */\nexport interface BlockNormalizationOptions {\n  /**\n   * Decorator names that are allowed within portable text blocks, eg `em`, `strong`\n   */\n  allowedDecorators?: string[]\n\n  /**\n   * Name of the portable text block type, if not `block`\n   */\n  blockTypeName?: string\n\n  /**\n   * Custom key generator function\n   */\n  keyGenerator?: () => string\n}\n\n/**\n * Normalizes a block by ensuring it has a `_key` property. If the block is a\n * portable text block, additional normalization is applied:\n *\n * - Ensures it has `children` and `markDefs` properties\n * - Ensures it has at least one child (adds an empty span if empty)\n * - Joins sibling spans that has the same marks\n * - Removes decorators that are not allowed according to the schema\n * - Removes marks that have no annotation definition\n *\n * @param node - The block to normalize\n * @param options - Options for normalization process. See {@link BlockNormalizationOptions}\n * @returns Normalized block\n * @public\n */\nexport function normalizeBlock(\n  node: TypedObject,\n  options: BlockNormalizationOptions = {},\n): Omit<\n  TypedObject | PortableTextTextBlock<TypedObject | PortableTextSpan>,\n  '_key'\n> & {\n  _key: string\n} {\n  if (node._type !== (options.blockTypeName || 'block')) {\n    return '_key' in node\n      ? (node as TypedObject & {_key: string})\n      : {\n          ...node,\n          _key: options.keyGenerator ? options.keyGenerator() : keyGenerator(),\n        }\n  }\n\n  const block: Omit<\n    PortableTextTextBlock<TypedObject | PortableTextSpan>,\n    'style'\n  > = {\n    _key: options.keyGenerator ? options.keyGenerator() : keyGenerator(),\n    children: [],\n    markDefs: [],\n    ...node,\n  }\n\n  const lastChild = block.children[block.children.length - 1]\n\n  if (!lastChild) {\n    // A block must at least have an empty span type child\n    block.children = [\n      {\n        _type: 'span',\n        _key: options.keyGenerator ? options.keyGenerator() : keyGenerator(),\n        text: '',\n        marks: [],\n      },\n    ]\n    return block\n  }\n\n  const usedMarkDefs: string[] = []\n  const allowedDecorators =\n    options.allowedDecorators && Array.isArray(options.allowedDecorators)\n      ? options.allowedDecorators\n      : false\n\n  block.children = block.children\n    .reduce(\n      (acc, child) => {\n        const previousChild = acc[acc.length - 1]\n        if (\n          previousChild &&\n          isPortableTextSpan(child) &&\n          isPortableTextSpan(previousChild) &&\n          isEqual(previousChild.marks, child.marks)\n        ) {\n          if (\n            lastChild &&\n            lastChild === child &&\n            child.text === '' &&\n            block.children.length > 1\n          ) {\n            return acc\n          }\n\n          previousChild.text += child.text\n          return acc\n        }\n        acc.push(child)\n        return acc\n      },\n      [] as (TypedObject | PortableTextSpan)[],\n    )\n    .map((child) => {\n      if (!child) {\n        throw new Error('missing child')\n      }\n\n      child._key = options.keyGenerator\n        ? options.keyGenerator()\n        : keyGenerator()\n\n      if (isPortableTextSpan(child)) {\n        if (!child.marks) {\n          child.marks = []\n        } else if (allowedDecorators) {\n          child.marks = child.marks.filter((mark) => {\n            const isAllowed = allowedDecorators.includes(mark)\n            const isUsed = block.markDefs?.some((def) => def._key === mark)\n            return isAllowed || isUsed\n          })\n        }\n\n        usedMarkDefs.push(...child.marks)\n      }\n\n      return child\n    })\n\n  // Remove leftover (unused) markDefs\n  block.markDefs = (block.markDefs || []).filter((markDef) =>\n    usedMarkDefs.includes(markDef._key),\n  )\n\n  return block\n}\n","import type {ArraySchemaType, PortableTextTextBlock} from '@sanity/types'\nimport HtmlDeserializer from './HtmlDeserializer'\nimport type {\n  BlockContentFeatures,\n  HtmlDeserializerOptions,\n  TypedObject,\n} from './types'\nimport blockContentTypeFeatures from './util/blockContentTypeFeatures'\nimport {normalizeBlock} from './util/normalizeBlock'\n\n/**\n * Convert HTML to blocks respecting the block content type's schema\n *\n * @param html - The HTML to convert to blocks\n * @param blockContentType - A compiled version of the schema type for the block content\n * @param options - Options for deserializing HTML to blocks\n * @returns Array of blocks\n * @public\n */\nexport function htmlToBlocks(\n  html: string,\n  blockContentType: ArraySchemaType,\n  options: HtmlDeserializerOptions = {},\n): (TypedObject | PortableTextTextBlock)[] {\n  const deserializer = new HtmlDeserializer(blockContentType, options)\n  return deserializer\n    .deserialize(html)\n    .map((block) => normalizeBlock(block, {keyGenerator: options.keyGenerator}))\n}\n\n/**\n * Normalize and extract features of an schema type containing a block type\n *\n * @param blockContentType - Schema type for the block type\n * @returns Returns the featureset of a compiled block content type.\n * @public\n */\nexport function getBlockContentFeatures(\n  blockContentType: ArraySchemaType,\n): BlockContentFeatures {\n  return blockContentTypeFeatures(blockContentType)\n}\n\nexport type {\n  ArbitraryTypedObject,\n  BlockEditorSchemaProps,\n  DeserializerRule,\n  HtmlParser,\n  ResolvedAnnotationType,\n} from './types'\nexport type {BlockNormalizationOptions} from './util/normalizeBlock'\nexport {randomKey} from './util/randomKey'\nexport {normalizeBlock}\nexport type {BlockContentFeatures, HtmlDeserializerOptions, TypedObject}\n"],"names":["_","blockContentTypeFeatures","vercelStegaClean","blocks","isEmphasis","isStrong","isUnderline","getListItemStyle","getListItemLevel"],"mappings":"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","debugId":null}},
    {"offset": {"line": 2079, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@portabletext/to-html/dist/pt-to-html.mjs","sources":["file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/to-html/src/escape.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/to-html/src/components/list.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/to-html/src/components/marks.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/to-html/src/warnings.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/to-html/src/components/unknown.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/to-html/src/components/defaults.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/to-html/src/components/merge.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/to-html/src/to-html.ts"],"sourcesContent":["const allowedProtocols = ['http', 'https', 'mailto', 'tel']\nconst charMap: Record<string, string> = {\n  '&': 'amp',\n  '<': 'lt',\n  '>': 'gt',\n  '\"': 'quot',\n  \"'\": '#x27',\n}\n\nexport function escapeHTML(str: string): string {\n  return replaceMultipleSpaces(str.replace(/[&<>\"']/g, (s) => `&${charMap[s]};`))\n}\n\nexport function replaceMultipleSpaces(str: string): string {\n  return str.replace(/ {2,}/g, (match: string) => `${'&nbsp;'.repeat(match.length - 1)} `)\n}\n\nexport function uriLooksSafe(uri: string): boolean {\n  const url = (uri || '').trim()\n  const first = url.charAt(0)\n\n  // Allow hash-links, absolute paths and \"same-protocol\" (//foo.bar) URLs\n  if (first === '#' || first === '/') {\n    return true\n  }\n\n  // If the URL does not contain a `:`, allow it\n  const colonIndex = url.indexOf(':')\n  if (colonIndex === -1) {\n    return true\n  }\n\n  // If the protocol is in the allowed list, treat it as OK\n  const proto = url.slice(0, colonIndex).toLowerCase()\n  if (allowedProtocols.indexOf(proto) !== -1) {\n    return true\n  }\n\n  // If the URL is `site/search?query=author:espen`, allow it\n  const queryIndex = url.indexOf('?')\n  if (queryIndex !== -1 && colonIndex > queryIndex) {\n    return true\n  }\n\n  // If the URL is `site/search#my:encoded:data`, allow it\n  const hashIndex = url.indexOf('#')\n  if (hashIndex !== -1 && colonIndex > hashIndex) {\n    return true\n  }\n\n  return false\n}\n","import type {PortableTextListComponent, PortableTextListItemComponent} from '../types'\n\nexport const defaultLists: Record<'number' | 'bullet', PortableTextListComponent> = {\n  number: ({children}) => `<ol>${children}</ol>`,\n  bullet: ({children}) => `<ul>${children}</ul>`,\n}\n\nexport const DefaultListItem: PortableTextListItemComponent = ({children}) => `<li>${children}</li>`\n","import type {TypedObject} from '@portabletext/types'\n\nimport {escapeHTML, uriLooksSafe} from '../escape'\nimport type {PortableTextMarkComponent} from '../types'\n\ninterface DefaultLink extends TypedObject {\n  _type: 'link'\n  href: string\n}\n\nconst link: PortableTextMarkComponent<DefaultLink> = ({children, value}) => {\n  const href = value?.href || ''\n  const looksSafe = uriLooksSafe(href)\n  return looksSafe ? `<a href=\"${escapeHTML(href)}\">${children}</a>` : children\n}\n\nexport const defaultMarks: Record<string, PortableTextMarkComponent | undefined> = {\n  'em': ({children}) => `<em>${children}</em>`,\n  'strong': ({children}) => `<strong>${children}</strong>`,\n  'code': ({children}) => `<code>${children}</code>`,\n  'underline': ({children}) => `<span style=\"text-decoration:underline\">${children}</span>`,\n  'strike-through': ({children}) => `<del>${children}</del>`,\n  link,\n}\n","const getTemplate = (type: string, prop: string): string =>\n  `Unknown ${type}, specify a component for it in the \\`components.${prop}\\` option`\n\nexport const unknownTypeWarning = (typeName: string): string =>\n  getTemplate(`block type \"${typeName}\"`, 'types')\n\nexport const unknownMarkWarning = (markType: string): string =>\n  getTemplate(`mark type \"${markType}\"`, 'marks')\n\nexport const unknownBlockStyleWarning = (blockStyle: string): string =>\n  getTemplate(`block style \"${blockStyle}\"`, 'block')\n\nexport const unknownListStyleWarning = (listStyle: string): string =>\n  getTemplate(`list style \"${listStyle}\"`, 'list')\n\nexport const unknownListItemStyleWarning = (listStyle: string): string =>\n  getTemplate(`list item style \"${listStyle}\"`, 'listItem')\n\nexport function printWarning(message: string): void {\n  console.warn(message)\n}\n","import type {PortableTextHtmlComponents} from '../types'\nimport {unknownTypeWarning} from '../warnings'\n\nexport const DefaultUnknownType: PortableTextHtmlComponents['unknownType'] = ({\n  value,\n  isInline,\n}) => {\n  const warning = unknownTypeWarning(value._type)\n  return isInline\n    ? `<span style=\"display:none\">${warning}</span>`\n    : `<div style=\"display:none\">${warning}</div>`\n}\n\nexport const DefaultUnknownMark: PortableTextHtmlComponents['unknownMark'] = ({\n  markType,\n  children,\n}) => {\n  return `<span class=\"unknown__pt__mark__${markType}\">${children}</span>`\n}\n\nexport const DefaultUnknownBlockStyle: PortableTextHtmlComponents['unknownBlockStyle'] = ({\n  children,\n}) => {\n  return `<p>${children}</p>`\n}\n\nexport const DefaultUnknownList: PortableTextHtmlComponents['unknownList'] = ({children}) => {\n  return `<ul>${children}</ul>`\n}\n\nexport const DefaultUnknownListItem: PortableTextHtmlComponents['unknownListItem'] = ({\n  children,\n}) => {\n  return `<li>${children}</li>`\n}\n","import type {PortableTextBlockStyle} from '@portabletext/types'\n\nimport {escapeHTML} from '../escape'\nimport type {PortableTextBlockComponent, PortableTextHtmlComponents} from '../types'\nimport {DefaultListItem, defaultLists} from './list'\nimport {defaultMarks} from './marks'\nimport {\n  DefaultUnknownBlockStyle,\n  DefaultUnknownList,\n  DefaultUnknownListItem,\n  DefaultUnknownMark,\n  DefaultUnknownType,\n} from './unknown'\n\nexport const DefaultHardBreak = (): string => '<br/>'\n\nexport const defaultPortableTextBlockStyles: Record<\n  PortableTextBlockStyle,\n  PortableTextBlockComponent | undefined\n> = {\n  normal: ({children}) => `<p>${children}</p>`,\n  blockquote: ({children}) => `<blockquote>${children}</blockquote>`,\n  h1: ({children}) => `<h1>${children}</h1>`,\n  h2: ({children}) => `<h2>${children}</h2>`,\n  h3: ({children}) => `<h3>${children}</h3>`,\n  h4: ({children}) => `<h4>${children}</h4>`,\n  h5: ({children}) => `<h5>${children}</h5>`,\n  h6: ({children}) => `<h6>${children}</h6>`,\n}\n\nexport const defaultComponents: PortableTextHtmlComponents = {\n  types: {},\n\n  block: defaultPortableTextBlockStyles,\n  marks: defaultMarks,\n  list: defaultLists,\n  listItem: DefaultListItem,\n  hardBreak: DefaultHardBreak,\n  escapeHTML: escapeHTML,\n\n  unknownType: DefaultUnknownType,\n  unknownMark: DefaultUnknownMark,\n  unknownList: DefaultUnknownList,\n  unknownListItem: DefaultUnknownListItem,\n  unknownBlockStyle: DefaultUnknownBlockStyle,\n}\n","import type {PortableTextComponents, PortableTextHtmlComponents} from '../types'\n\nexport function mergeComponents(\n  parent: PortableTextHtmlComponents,\n  overrides: PortableTextComponents,\n): PortableTextHtmlComponents {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const {block, list, listItem, marks, types, ...rest} = overrides\n  // @todo figure out how to not `as ...` these\n  return {\n    ...parent,\n    block: mergeDeeply(parent, overrides, 'block') as PortableTextHtmlComponents['block'],\n    list: mergeDeeply(parent, overrides, 'list') as PortableTextHtmlComponents['list'],\n    listItem: mergeDeeply(parent, overrides, 'listItem') as PortableTextHtmlComponents['listItem'],\n    marks: mergeDeeply(parent, overrides, 'marks') as PortableTextHtmlComponents['marks'],\n    types: mergeDeeply(parent, overrides, 'types') as PortableTextHtmlComponents['types'],\n    ...rest,\n  }\n}\n\nfunction mergeDeeply(\n  parent: PortableTextHtmlComponents,\n  overrides: PortableTextComponents,\n  key: 'block' | 'list' | 'listItem' | 'marks' | 'types',\n): PortableTextHtmlComponents[typeof key] {\n  const override = overrides[key]\n  const parentVal = parent[key]\n\n  if (typeof override === 'function') {\n    return override\n  }\n\n  if (override && typeof parentVal === 'function') {\n    return override\n  }\n\n  if (override) {\n    return {...parentVal, ...override} as PortableTextHtmlComponents[typeof key]\n  }\n\n  return parentVal\n}\n","import {\n  buildMarksTree,\n  isPortableTextBlock,\n  isPortableTextListItemBlock,\n  isPortableTextToolkitList,\n  isPortableTextToolkitSpan,\n  isPortableTextToolkitTextNode,\n  nestLists,\n  spanToPlainText,\n  type ToolkitNestedPortableTextSpan,\n  type ToolkitTextNode,\n} from '@portabletext/toolkit'\nimport type {\n  ArbitraryTypedObject,\n  PortableTextBlock,\n  PortableTextListItemBlock,\n  PortableTextMarkDefinition,\n  PortableTextSpan,\n  TypedObject,\n} from '@portabletext/types'\n\nimport {defaultComponents} from './components/defaults'\nimport {mergeComponents} from './components/merge'\nimport type {\n  HtmlPortableTextList,\n  MissingComponentHandler,\n  NodeRenderer,\n  PortableTextHtmlComponents,\n  PortableTextOptions,\n  Serializable,\n  SerializedBlock,\n} from './types'\nimport {\n  printWarning,\n  unknownBlockStyleWarning,\n  unknownListItemStyleWarning,\n  unknownListStyleWarning,\n  unknownMarkWarning,\n  unknownTypeWarning,\n} from './warnings'\n\nexport function toHTML<B extends TypedObject = PortableTextBlock | ArbitraryTypedObject>(\n  value: B | B[],\n  options: PortableTextOptions = {},\n): string {\n  const {\n    components: componentOverrides,\n    onMissingComponent: missingComponentHandler = printWarning,\n  } = options\n\n  const handleMissingComponent = missingComponentHandler || noop\n  const blocks = Array.isArray(value) ? value : [value]\n  const nested = nestLists(blocks, 'html')\n  const components = componentOverrides\n    ? mergeComponents(defaultComponents, componentOverrides)\n    : defaultComponents\n\n  const renderNode = getNodeRenderer(components, handleMissingComponent)\n  const rendered = nested.map((node, index) =>\n    renderNode({node: node, index, isInline: false, renderNode}),\n  )\n\n  return rendered.join('')\n}\n\nconst getNodeRenderer = (\n  components: PortableTextHtmlComponents,\n  handleMissingComponent: MissingComponentHandler,\n): NodeRenderer => {\n  function renderNode<N extends TypedObject>(options: Serializable<N>): string {\n    const {node, index, isInline} = options\n\n    if (isPortableTextToolkitList(node)) {\n      return renderList(node, index)\n    }\n\n    if (isPortableTextListItemBlock(node)) {\n      return renderListItem(node, index)\n    }\n\n    if (isPortableTextToolkitSpan(node)) {\n      return renderSpan(node)\n    }\n\n    if (isPortableTextBlock(node)) {\n      return renderBlock(node, index, isInline)\n    }\n\n    if (isPortableTextToolkitTextNode(node)) {\n      return renderText(node)\n    }\n\n    return renderCustomBlock(node, index, isInline)\n  }\n\n  function renderListItem(\n    node: PortableTextListItemBlock<PortableTextMarkDefinition, PortableTextSpan>,\n    index: number,\n  ): string {\n    const tree = serializeBlock({node, index, isInline: false, renderNode})\n    const renderer = components.listItem\n    const handler = typeof renderer === 'function' ? renderer : renderer[node.listItem]\n    const itemHandler = handler || components.unknownListItem\n\n    if (itemHandler === components.unknownListItem) {\n      const style = node.listItem || 'bullet'\n      handleMissingComponent(unknownListItemStyleWarning(style), {\n        type: style,\n        nodeType: 'listItemStyle',\n      })\n    }\n\n    let children = tree.children\n    if (node.style && node.style !== 'normal') {\n      // Wrap any other style in whatever the block component says to use\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const {listItem, ...blockNode} = node\n      children = renderNode({node: blockNode, index, isInline: false, renderNode})\n    }\n\n    return itemHandler({value: node, index, isInline: false, renderNode, children})\n  }\n\n  function renderList(node: HtmlPortableTextList, index: number): string {\n    const children = node.children.map((child, childIndex) =>\n      renderNode({\n        node: child._key ? child : {...child, _key: `li-${index}-${childIndex}`},\n        index: childIndex,\n        isInline: false,\n        renderNode,\n      }),\n    )\n\n    const component = components.list\n    const handler = typeof component === 'function' ? component : component[node.listItem]\n    const list = handler || components.unknownList\n\n    if (list === components.unknownList) {\n      const style = node.listItem || 'bullet'\n      handleMissingComponent(unknownListStyleWarning(style), {nodeType: 'listStyle', type: style})\n    }\n\n    return list({value: node, index, isInline: false, renderNode, children: children.join('')})\n  }\n\n  function renderSpan(node: ToolkitNestedPortableTextSpan): string {\n    const {markDef, markType, markKey} = node\n    const span = components.marks[markType] || components.unknownMark\n    const children = node.children.map((child, childIndex) =>\n      renderNode({node: child, index: childIndex, isInline: true, renderNode}),\n    )\n\n    if (span === components.unknownMark) {\n      handleMissingComponent(unknownMarkWarning(markType), {nodeType: 'mark', type: markType})\n    }\n\n    return span({\n      text: spanToPlainText(node),\n      value: markDef,\n      markType,\n      markKey,\n      renderNode,\n      children: children.join(''),\n    })\n  }\n\n  function renderBlock(node: PortableTextBlock, index: number, isInline: boolean): string {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const {_key, ...props} = serializeBlock({node, index, isInline, renderNode})\n    const style = props.node.style || 'normal'\n    const handler =\n      typeof components.block === 'function' ? components.block : components.block[style]\n    const block = handler || components.unknownBlockStyle\n\n    if (block === components.unknownBlockStyle) {\n      handleMissingComponent(unknownBlockStyleWarning(style), {\n        nodeType: 'blockStyle',\n        type: style,\n      })\n    }\n\n    return block({...props, value: props.node, renderNode})\n  }\n\n  function renderText(node: ToolkitTextNode): string {\n    if (node.text === '\\n') {\n      const hardBreak = components.hardBreak\n      return hardBreak ? hardBreak() : '\\n'\n    }\n\n    return components.escapeHTML(node.text)\n  }\n\n  function renderCustomBlock(value: TypedObject, index: number, isInline: boolean): string {\n    const node = components.types[value._type]\n\n    if (!node) {\n      handleMissingComponent(unknownTypeWarning(value._type), {\n        nodeType: 'block',\n        type: value._type,\n      })\n    }\n\n    const component = node || components.unknownType\n    return component({\n      value,\n      isInline,\n      index,\n      renderNode,\n    })\n  }\n\n  return renderNode\n}\n\nfunction serializeBlock(options: Serializable<PortableTextBlock>): SerializedBlock {\n  const {node, index, isInline, renderNode} = options\n  const tree = buildMarksTree(node)\n  const children = tree.map((child, i) =>\n    renderNode({node: child, isInline: true, index: i, renderNode}),\n  )\n\n  return {\n    _key: node._key || `block-${index}`,\n    children: children.join(''),\n    index,\n    isInline,\n    node,\n  }\n}\n\nfunction noop() {\n  // Intentional noop\n}\n"],"names":["allowedProtocols","charMap","escapeHTML","str","replaceMultipleSpaces","replace","s","match","repeat","length","uriLooksSafe","uri","url","trim","first","charAt","colonIndex","indexOf","proto","slice","toLowerCase","queryIndex","hashIndex","defaultLists","number","children","bullet","DefaultListItem","link","value","href","defaultMarks","em","strong","code","underline","strike-through","getTemplate","type","prop","unknownTypeWarning","typeName","unknownMarkWarning","markType","unknownBlockStyleWarning","blockStyle","unknownListStyleWarning","listStyle","unknownListItemStyleWarning","printWarning","message","console","warn","DefaultUnknownType","isInline","warning","_type","DefaultUnknownMark","DefaultUnknownBlockStyle","DefaultUnknownList","DefaultUnknownListItem","DefaultHardBreak","defaultPortableTextBlockStyles","normal","blockquote","h1","h2","h3","h4","h5","h6","defaultComponents","types","block","marks","list","listItem","hardBreak","unknownType","unknownMark","unknownList","unknownListItem","unknownBlockStyle","mergeComponents","parent","overrides","rest","_excluded","_objectSpread","mergeDeeply","key","override","parentVal","toHTML","options","components","componentOverrides","onMissingComponent","missingComponentHandler","handleMissingComponent","noop","blocks","Array","isArray","nested","nestLists","renderNode","getNodeRenderer","map","node","index","join","isPortableTextToolkitList","renderList","isPortableTextListItemBlock","renderListItem","isPortableTextToolkitSpan","renderSpan","isPortableTextBlock","renderBlock","isPortableTextToolkitTextNode","renderText","renderCustomBlock","tree","serializeBlock","renderer","itemHandler","style","nodeType","blockNode","_objectWithoutProperties","_excluded2","child","childIndex","_key","component","markDef","markKey","span","text","spanToPlainText","_serializeBlock","props","_excluded3","buildMarksTree","i"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAMA,mBAAmB;IAAC,MAAA;IAAQ;IAAS,QAAA;IAAU,KAAK;CAAA,EACpDC,OAAA,GAAkC;IACtC,GAAA,EAAK,KAAA;IACL,GAAA,EAAK,IAAA;IACL,GAAA,EAAK,IAAA;IACL,GAAA,EAAK,MAAA;IACL,GAAA,EAAK;AACP,CAAA;AAEO,SAASC,WAAWC,GAAA,EAAqB;IAC9C,OAAOC,qBAAA,CAAsBD,GAAA,CAAIE,OAAA,CAAQ,UAAA,GAAaC,CAAA,GAAM,IAAc,EAAG,CAAC,CAAA,GAAdL,OAAA,CAAQK,CAAC,CAAC,EAAA;AAC5E;AAEO,SAASF,sBAAsBD,GAAA,EAAqB;IACzD,OAAOA,GAAA,CAAIE,OAAA,CAAQ,QAAA,GAAWE,KAAA,GAAkB,GAAoC,OAAjC,QAAA,CAASC,MAAA,CAAOD,KAAA,CAAME,MAAA,GAAS,CAAC,CAAC,EAAA,EAAG,CAAA;AACzF;AAEO,SAASC,aAAaC,GAAA,EAAsB;IACjD,MAAMC,GAAA,GAAA,CAAOD,OAAO,EAAA,EAAIE,IAAA,CAAA,GAClBC,KAAA,GAAQF,GAAA,CAAIG,MAAAA,CAAO,CAAC,CAAA;IAG1B,IAAID,KAAA,KAAU,OAAOA,KAAA,KAAU,GAAA,EAC7B,OAAO,CAAA,CAAA;IAIT,MAAME,UAAA,GAAaJ,GAAA,CAAIK,OAAA,CAAQ,GAAG,CAAA;IAClC,IAAID,UAAA,KAAe,CAAA,CAAA,EACjB,OAAO,CAAA,CAAA;IAIT,MAAME,QAAQN,GAAA,CAAIO,KAAA,CAAM,CAAA,EAAGH,UAAU,EAAEI,WAAA,CAAA,CAAA;IACvC,IAAIpB,gBAAA,CAAiBiB,OAAA,CAAQC,KAAK,CAAA,KAAM,CAAA,CAAA,EACtC,OAAO,CAAA,CAAA;IAIT,MAAMG,UAAA,GAAaT,GAAA,CAAIK,OAAA,CAAQ,GAAG,CAAA;IAClC,IAAII,UAAA,KAAe,CAAA,KAAML,UAAA,GAAaK,UAAA,EACpC,OAAO,CAAA,CAAA;IAIT,MAAMC,SAAA,GAAYV,GAAA,CAAIK,OAAA,CAAQ,GAAG,CAAA;IACjC,OAAIK,SAAA,KAAc,CAAA,KAAMN,UAAA,GAAaM,SAAA;AAKvC;ACjDO,MAAMC,YAAA,GAAuE;IAClFC,QAAQA;YAAC,EAACC,QAAAA,EAAA;eAAc,OAAe,OAARA,QAAQ,EAAA,MAAA;;IACvCC,QAAQA;YAAC,EAACD,QAAAA,EAAA;eAAc,OAAe,OAARA,QAAQ,EAAA;;AACzC,CAAA,EAEaE,eAAA,GAAiDA;QAAC,EAACF,QAAAA,EAAA;WAAc,OAAe,OAARA,QAAQ,EAAA,MAAA;GCGvFG,IAAA,GAA+CA;QAAC,EAACH,QAAA,EAAUI,KAAAA,OAAW;IAC1E,MAAMC,IAAA,GAAA,CAAOD,KAAA,IAAA,OAAA,KAAA,IAAA,MAAOC,IAAA,KAAQ,EAAA;IAE5B,OADkBpB,YAAA,CAAaoB,IAAI,CAAA,GAChB,YAAiCL,OAArBvB,CAA6B,UAAlB4B,IAAI,CAAC,EAAA,MAAa,iBAAA,KAAA,KAASL,QAAA;AACvE,CAAA,EAEaM,YAAA,GAAsE;IACjFC,IAAMA;YAAC,EAACP,QAAAA,EAAA;eAAc,OAAe,OAARA,QAAQ,EAAA,MAAA;;IACrCQ,QAAUA;YAAC,EAACR,QAAAA,EAAA;eAAc,WAAmB,OAARA,QAAQ,EAAA,UAAA;;IAC7CS,MAAQA;YAAC,EAACT,QAAAA,EAAA;eAAc,SAAiB,OAARA,QAAQ,EAAA,QAAA;;IACzCU,WAAaA;YAAC,EAACV,QAAAA,EAAA;eAAc,2CAAmD,OAARA,QAAQ,EAAA,QAAA;;IAChF,kBAAkBW;YAAC,EAACX,QAAAA,EAAA;eAAc,QAAgB,OAARA,QAAQ,EAAA,OAAA;;IAClDG;AACF,CAAA,ECvBMS,WAAA,GAAcA,CAACC,IAAA,EAAcC,IAAA,GACjC,kBAAWD,IAAI,EAAA,oDAAwD,OAAJC,IAAI,EAAA,UAAA,GAE5DC,kBAAA,IAAsBC,QAAA,GACjCJ,YAAY,eAAuB,OAARI,QAAQ,EAAA,EAAA,IAAK,OAAO,CAAA,EAEpCC,kBAAA,IAAsBC,QAAA,GACjCN,WAAA,CAAY,cAAsB,OAARM,QAAQ,EAAA,EAAA,IAAK,OAAO,GAEnCC,wBAAA,IAA4BC,UAAA,GACvCR,WAAA,CAAY,gBAA0B,OAAVQ,UAAU,EAAA,MAAK,OAAO,CAAA,EAEvCC,uBAAA,GAA2BC,SAAA,IACtCV,WAAA,CAAY,eAAwB,OAATU,SAAS,EAAA,EAAA,IAAK,MAAM,CAAA,EAEpCC,2BAAA,IAA+BD,YAC1CV,WAAA,CAAY,oBAA6B,OAATU,SAAS,EAAA,EAAA,IAAK,UAAU,CAAA;AAEnD,SAASE,aAAaC,OAAA,EAAuB;IAClDC,OAAA,CAAQC,IAAAA,CAAKF,OAAO,CAAA;AACtB;ACjBO,MAAMG,qBAAgEA;QAAC,EAC5ExB,KAAA,EACAyB,QAAAA,EACF,KAAM;IACJ,MAAMC,OAAA,GAAUf,kBAAA,CAAmBX,KAAA,CAAM2B,KAAK,CAAA;IAC9C,OAAOF,QAAA,GACH,8BAAqC,OAAPC,CAAO,MAAA,EAAA,aACrC,6BAAoC,OAAPA,AAAO,OAAA,EAAA;AAC1C,CAAA,EAEaE,qBAAgEA;QAAC,EAC5Ed,QAAA,EACAlB,QAAAA,EACF;WACS,0CAAmCkB,QAAQ,EAAA,MAAa,OAARlB,QAAQ,EAAA,QAAA;GAGpDiC,2BAA4EA;QAAC,EACxFjC,QAAAA,EACF;WACS,MAAc,OAARA,QAAQ,EAAA,KAAA;GAGVkC,kBAAA,GAAgEA;QAAC,EAAClC,QAAAA,EAAA;WACtE,OAAe,OAARA,QAAQ,EAAA,MAAA;GAGXmC,sBAAA,GAAwEA;QAAC,EACpFnC,QAAAA,EACF;WACS,OAAe,OAARA,QAAQ,EAAA,MAAA;GCnBXoC,gBAAA,GAAmBA,CAAA,GAAc,SAEjCC,8BAAA,GAGT;IACFC,QAAQA;YAAC,EAACtC,QAAAA,EAAA;eAAc,MAAc,OAARA,QAAQ,EAAA,KAAA;;IACtCuC,YAAYA;YAAC,EAACvC,QAAAA,EAAA;eAAc,eAAuB,OAARA,QAAQ,EAAA,cAAA;;IACnDwC,IAAIA;YAAC,EAACxC,QAAAA,EAAA;eAAc,OAAe,OAARA,QAAQ,EAAA,MAAA;;IACnCyC,IAAIA;YAAC,EAACzC,QAAAA,EAAA;eAAc,OAAe,OAARA,QAAQ,EAAA,MAAA;;IACnC0C,IAAIA;YAAC,EAAC1C,QAAAA,EAAA;eAAc,OAAe,OAARA,QAAQ,EAAA,MAAA;;IACnC2C,IAAIA;YAAC,EAAC3C,QAAAA,EAAA;eAAc,OAAe,OAARA,QAAQ,EAAA,MAAA;;IACnC4C,IAAIA;YAAC,EAAC5C,QAAAA,EAAA;eAAc,OAAe,OAARA,QAAQ,EAAA,MAAA;;IACnC6C,IAAIA;YAAC,EAAC7C,QAAAA,EAAA;eAAc,OAAe,OAARA,QAAQ,EAAA;;AACrC,CAAA,EAEa8C,iBAAA,GAAgD;IAC3DC,OAAO,CAAA,CAAA;IAEPC,KAAA,EAAOX,8BAAA;IACPY,KAAA,EAAO3C,YAAA;IACP4C,IAAA,EAAMpD,YAAA;IACNqD,QAAA,EAAUjD,eAAA;IACVkD,SAAA,EAAWhB,gBAAA;IACX3D,UAAA;IAEA4E,WAAA,EAAazB,kBAAA;IACb0B,WAAA,EAAatB,kBAAA;IACbuB,WAAA,EAAarB,kBAAA;IACbsB,eAAA,EAAiBrB,sBAAA;IACjBsB,iBAAA,EAAmBxB;AACrB,CAAA;AC3CO,SAASyB,eAAAA,CACdC,MAAAA,EACAC,SAAA,EAC4B;IAE5B,MAAM,EAACZ,KAAAA,EAAOE,IAAA,EAAMC,QAAA,EAAUF,KAAAA,EAAOF,KAAAA,KAAkBa,SAAA,EAARC,OAAAA,yBAAQD,SAAA,EAAAE,SAAA;IAEvD,OAAAC,aAAA,CAAAA,aAAA,CAAA,CAAA,GACKJ,MAAA,GAAA,CAAA,GAAA;QACHX,KAAA,EAAOgB,WAAA,CAAYL,MAAA,EAAQC,SAAA,EAAW,OAAO,CAAA;QAC7CV,IAAA,EAAMc,WAAA,CAAYL,MAAA,EAAQC,SAAA,EAAW,MAAM,CAAA;QAC3CT,QAAA,EAAUa,WAAA,CAAYL,MAAA,EAAQC,SAAA,EAAW,UAAU,CAAA;QACnDX,KAAA,EAAOe,WAAA,CAAYL,MAAA,EAAQC,SAAA,EAAW,OAAO,CAAA;QAC7Cb,KAAA,EAAOiB,WAAA,CAAYL,MAAA,EAAQC,SAAA,EAAW,OAAO;IAAA,GAC1CC,IAAA;AAEP;AAEA,SAASG,WAAAA,CACPL,MAAA,EACAC,SAAA,EACAK,GAAA,EACwC;IACxC,MAAMC,WAAWN,SAAA,CAAUK,GAAG,CAAA,EACxBE,SAAA,GAAYR,MAAAA,CAAOM,GAAG,CAAA;IAM5B,OAJI,OAAOC,QAAA,IAAa,UAAA,IAIpBA,QAAA,IAAY,OAAOC,SAAA,IAAc,UAAA,GAC5BD,QAAA,GAGLA,QAAA,GAAAH,aAAA,CAAAA,aAAA,CAAA,CAAA,GACSI,SAAA,GAAcD,YAGpBC,SAAA;AACT;ACAO,SAASC,MAAAA,CACdhE,KAAA;kBACAiE,OAAA,0DAA+B,CAAA,GACvB;IACR,MAAM,EACJC,UAAA,EAAYC,kBAAA,EACZC,oBAAoBC,uBAAA,GAA0BjD,YAAAA,EAAA,GAC5C6C,OAAA,EAEEK,sBAAA,GAAyBD,uBAAA,IAA2BE,IAAA,EACpDC,MAAA,GAASC,KAAA,CAAMC,OAAA,CAAQ1E,KAAK,CAAA,GAAIA,KAAA,GAAQ;QAACA,KAAK;KAAA,EAC9C2E,MAAA,GAASC,8KAAA,EAAUJ,MAAA,EAAQ,MAAM,CAAA,EACjCN,UAAA,GAAaC,kBAAA,GACfb,eAAA,CAAgBZ,iBAAA,EAAmByB,kBAAkB,CAAA,GACrDzB,iBAAA,EAEEmC,UAAA,GAAaC,eAAA,CAAgBZ,YAAYI,sBAAsB,CAAA;IAKrE,OAJiBK,MAAA,CAAOI,GAAA,CAAI,CAACC,IAAA,EAAMC,KAAA,GACjCJ,UAAA,CAAW;YAACG;YAAYC,KAAA;YAAOxD,QAAA,EAAU,CAAA,CAAA;YAAOoD;QAAA,CAAW,CAAA,CAAA,CAG7CK,IAAAA,CAAK,EAAE,CAAA;AACzB;AAEA,MAAMJ,eAAA,GAAkBA,CACtBZ,UAAA,EACAI,sBAAA,KACiB;IACjB,SAASO,WAAkCZ,OAAA,EAAkC;QAC3E,MAAM,EAACe,IAAA,EAAMC,KAAA,EAAOxD,QAAAA,EAAA,GAAYwC,OAAA;QAEhC,WAAIkB,0LAAAA,EAA0BH,IAAI,CAAA,GACzBI,UAAA,CAAWJ,IAAA,EAAMC,KAAK,CAAA,OAG3BI,4LAAA,EAA4BL,IAAI,CAAA,GAC3BM,eAAeN,IAAA,EAAMC,KAAK,CAAA,OAG/BM,0LAAA,EAA0BP,IAAI,CAAA,GACzBQ,UAAA,CAAWR,IAAI,CAAA,OAGpBS,oLAAAA,EAAoBT,IAAI,CAAA,GACnBU,WAAA,CAAYV,IAAA,EAAMC,OAAOxD,QAAQ,CAAA,OAGtCkE,8LAAA,EAA8BX,IAAI,IAC7BY,UAAA,CAAWZ,IAAI,IAGjBa,iBAAA,CAAkBb,IAAA,EAAMC,OAAOxD,QAAQ,CAAA;IAChD;IAEA,SAAS6D,cAAAA,CACPN,IAAAA,EACAC,KAAA,EACQ;QACR,MAAMa,IAAA,GAAOC,eAAe;YAACf,IAAA;YAAMC;YAAOxD,QAAA,EAAU,CAAA,CAAA;YAAOoD;SAAW,CAAA,EAChEmB,QAAA,GAAW9B,WAAWnB,QAAA,EAEtBkD,WAAA,GAAA,CADU,OAAOD,QAAA,IAAa,UAAA,GAAaA,WAAWA,QAAA,CAAShB,IAAA,CAAKjC,QAAQ,CAAA,KACnDmB,UAAA,CAAWd,eAAA;QAE1C,IAAI6C,WAAA,KAAgB/B,WAAWd,eAAA,EAAiB;YAC9C,MAAM8C,KAAA,GAAQlB,KAAKjC,QAAA,IAAY,QAAA;YAC/BuB,sBAAA,CAAuBnD,2BAAA,CAA4B+E,KAAK,CAAA,EAAG;gBACzDzF,IAAA,EAAMyF,KAAA;gBACNC,QAAA,EAAU;YAAA,CACX,CAAA;QACH;QAEA,IAAIvG,WAAWkG,IAAA,CAAKlG,QAAA;QACpB,IAAIoF,IAAA,CAAKkB,KAAA,IAASlB,IAAA,CAAKkB,KAAA,KAAU,QAAA,EAAU;YAGzC,MAAM,EAACnD,QAAAA,EAAa,GAAaiC,IAAA,EAAboB,SAAA,GAAAC,wBAAA,CAAarB,IAAA,EAAAsB,UAAA;YACjC1G,QAAA,GAAWiF,WAAW;gBAACG,IAAA,EAAMoB;gBAAWnB,KAAA;gBAAOxD,QAAA,EAAU,CAAA;YAAiB,CAAC,CAAA;QAC7E;QAEA,OAAOwE,WAAA,CAAY;YAACjG,KAAA,EAAOgF,IAAA;YAAMC;YAAOxD,QAAA,EAAU,CAAA,CAAA;YAAOoD,UAAA;YAAYjF;SAAS,CAAA;IAChF;IAEA,SAASwF,UAAAA,CAAWJ,IAAAA,EAA4BC,KAAA,EAAuB;QACrE,MAAMrF,QAAA,GAAWoF,KAAKpF,QAAA,CAASmF,GAAA,CAAI,CAACwB,KAAA,EAAOC,UAAA,GACzC3B,UAAA,CAAW;gBACTG,IAAA,EAAMuB,KAAA,CAAME,IAAA,GAAOF,KAAA,GAAA5C,aAAA,CAAAA,aAAA,CAAA,CAAA,GAAY4C,KAAA,GAAA,CAAA,GAAA;oBAAOE,IAAA,EAAM,aAAMxB,KAAK,EAAA,KAAc,OAAVuB,UAAU;gBAAA,EAAA;gBACrEvB,KAAA,EAAOuB,UAAA;gBACP/E,QAAA,EAAU,CAAA;YAEZ,CAAC,CAAA,CAAA,EAGGiF,SAAA,GAAYxC,UAAA,CAAWpB,IAAA,EAEvBA,IAAA,GAAA,CADU,OAAO4D,SAAA,IAAc,UAAA,GAAaA,SAAA,GAAYA,SAAA,CAAU1B,IAAA,CAAKjC,QAAQ,CAAA,KAC7DmB,UAAA,CAAWf,WAAA;QAEnC,IAAIL,IAAA,KAASoB,WAAWf,WAAA,EAAa;YACnC,MAAM+C,KAAA,GAAQlB,KAAKjC,QAAA,IAAY,QAAA;YAC/BuB,sBAAA,CAAuBrD,uBAAA,CAAwBiF,KAAK,CAAA,EAAG;gBAACC,UAAU,WAAA;gBAAa1F,IAAA,EAAMyF;aAAM,CAAA;QAC7F;QAEA,OAAOpD,IAAA,CAAK;YAAC9C,KAAA,EAAOgF,IAAA;YAAMC,KAAA;YAAOxD,QAAA,EAAU,CAAA,CAAA;YAAOoD,UAAA;YAAYjF,QAAA,EAAUA,QAAA,CAASsF,IAAA,CAAK,EAAE;SAAE,CAAA;IAC5F;IAEA,SAASM,WAAWR,IAAA,EAA6C;QAC/D,MAAM,EAAC2B,OAAA,EAAS7F,QAAA,EAAU8F,OAAAA,EAAA,GAAW5B,IAAA,EAC/B6B,IAAA,GAAO3C,UAAA,CAAWrB,KAAA,CAAM/B,QAAQ,CAAA,IAAKoD,UAAA,CAAWhB,WAAA,EAChDtD,QAAA,GAAWoF,KAAKpF,QAAA,CAASmF,GAAA,CAAI,CAACwB,KAAA,EAAOC,UAAA,GACzC3B,UAAA,CAAW;gBAACG,IAAA,EAAMuB,KAAA;gBAAOtB,KAAA,EAAOuB,UAAA;gBAAY/E,QAAA,EAAU,CAAA;YAAgB,CAAC,CAAA,CAAA;QAGzE,OAAIoF,IAAA,KAAS3C,UAAA,CAAWhB,WAAA,IACtBoB,sBAAA,CAAuBzD,mBAAmBC,QAAQ,CAAA,EAAG;YAACqF,QAAA,EAAU,MAAA;YAAQ1F,IAAA,EAAMK;QAAA,CAAS,GAGlF+F,IAAA,CAAK;YACVC,IAAA,MAAMC,gLAAAA,EAAgB/B,IAAI,CAAA;YAC1BhF,KAAA,EAAO2G,OAAA;YACP7F,QAAA;YACA8F,OAAA;YACA/B,UAAA;YACAjF,QAAA,EAAUA,QAAA,CAASsF,IAAA,CAAK,EAAE;QAAA,CAC3B,CAAA;IACH;IAEA,SAASQ,WAAAA,CAAYV,IAAA,EAAyBC,KAAA,EAAexD,QAAA,EAA2B;QAEtF,MAAAuF,eAAA,GAAyBjB,cAAA,CAAe;YAACf,IAAA;YAAMC,KAAA;YAAOxD,QAAA;YAAUoD;QAAA,CAAW,CAAA,EAArE,EAAC4B,IAAAA,EAAS,GAAAO,eAAA,EAAAC,KAAA,GAAAZ,wBAAA,CAAAW,eAAA,EAAAE,UAAA,GACVhB,KAAA,GAAQe,KAAA,CAAMjC,IAAA,CAAKkB,KAAA,IAAS,QAAA,EAG5BtD,KAAA,GAAA,CADJ,OAAOsB,UAAA,CAAWtB,KAAA,IAAU,UAAA,GAAasB,UAAA,CAAWtB,KAAA,GAAQsB,UAAA,CAAWtB,KAAA,CAAMsD,KAAK,CAAA,KAC3DhC,UAAA,CAAWb,iBAAA;QAEpC,OAAIT,UAAUsB,UAAA,CAAWb,iBAAA,IACvBiB,sBAAA,CAAuBvD,wBAAA,CAAyBmF,KAAK,CAAA,EAAG;YACtDC,QAAA,EAAU,YAAA;YACV1F,IAAA,EAAMyF;QAAA,CACP,CAAA,EAGItD,KAAA,CAAAe,aAAA,CAAAA,aAAA,CAAA,CAAA,GAAUsD,QAAAA,CAAAA,GAAAA;YAAOjH,KAAA,EAAOiH,KAAA,CAAMjC,IAAA;YAAMH;QAAA,EAAW,CAAA;IACxD;IAEA,SAASe,WAAWZ,IAAA,EAA+B;QACjD,IAAIA,KAAK8B,IAAA,KAAS,MAAM;YACtB,MAAM9D,YAAYkB,UAAA,CAAWlB,SAAA;YAC7B,OAAOA,SAAA,GAAYA,cAAc;QACnC;QAEA,OAAOkB,UAAA,CAAW7F,UAAA,CAAW2G,IAAA,CAAK8B,IAAI,CAAA;IACxC;IAEA,SAASjB,iBAAAA,CAAkB7F,KAAA,EAAoBiF,KAAA,EAAexD,QAAA,EAA2B;QACvF,MAAMuD,IAAA,GAAOd,UAAA,CAAWvB,KAAA,CAAM3C,KAAA,CAAM2B,KAAK,CAAA;QAEzC,OAAKqD,IAAA,IACHV,sBAAA,CAAuB3D,kBAAA,CAAmBX,KAAA,CAAM2B,KAAK,CAAA,EAAG;YACtDwE,QAAA,EAAU,OAAA;YACV1F,MAAMT,KAAA,CAAM2B,KAAAA;QAAA,CACb,CAAA,EAAA,CAGeqD,IAAA,IAAQd,UAAA,CAAWjB,WAAA,EACpB;YACfjD,KAAA;YACAyB,QAAA;YACAwD,KAAA;YACAJ;QAAA,CACD,CAAA;IACH;IAEA,OAAOA,UAAA;AACT,CAAA;AAEA,SAASkB,eAAe9B,OAAA,EAA2D;IACjF,MAAM,EAACe,IAAA,EAAMC,KAAA,EAAOxD,QAAA,EAAUoD,UAAAA,EAAA,GAAcZ,OAAA,EAEtCrE,QAAA,OADOuH,+KAAA,EAAenC,IAAI,CAAA,CACVD,GAAA,CAAI,CAACwB,KAAA,EAAOa,CAAA,GAChCvC,UAAA,CAAW;YAACG,IAAA,EAAMuB,KAAA;YAAO9E,QAAA,EAAU,CAAA,CAAA;YAAMwD,KAAA,EAAOmC,CAAA;YAAGvC;QAAA,CAAW,CAAA,CAAA;IAGhE,OAAO;QACL4B,IAAA,EAAMzB,IAAA,CAAKyB,IAAA,IAAQ,SAAc,CAAA,MAALxB,KAAK;QACjCrF,QAAA,EAAUA,QAAA,CAASsF,IAAA,CAAK,EAAE,CAAA;QAC1BD,KAAA;QACAxD,QAAA;QACAuD;IAAA,CAAA;AAEJ;AAEA,SAAST,IAAAA,CAAA,EAAO,CAEhB","debugId":null}},
    {"offset": {"line": 2461, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@portabletext/patches/dist/index.js","sources":["file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/patches/src/arrayInsert.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/patches/src/array.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/patches/src/number.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/patches/src/object.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/patches/src/primitive.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/patches/src/string.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/patches/src/applyPatch.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/patches/src/patches.ts"],"sourcesContent":["export const BEFORE = 'before'\nexport const AFTER = 'after'\n\nexport default function insert(\n  array: any[],\n  position: string,\n  index: number,\n  ...args: any[]\n) {\n  if (position !== BEFORE && position !== AFTER) {\n    throw new Error(\n      `Invalid position \"${position}\", must be either ${BEFORE} or ${AFTER}`,\n    )\n  }\n\n  const items = flatten(...args)\n\n  if (array.length === 0) {\n    return items\n  }\n\n  const len = array.length\n  const idx = Math.abs((len + index) % len) % len\n\n  const normalizedIdx = position === 'after' ? idx + 1 : idx\n\n  const copy = array.slice()\n  copy.splice(normalizedIdx, 0, ...flatten(items))\n  return copy\n}\n\nfunction flatten(...values: any[]) {\n  return values.reduce((prev, item) => prev.concat(item), [])\n}\n","import {findIndex} from 'lodash'\nimport applyPatch from './applyPatch'\nimport insert from './arrayInsert'\nimport type {JSONValue, Patch, PathSegment} from './types'\n\nfunction findTargetIndex(array: any[], pathSegment: PathSegment | undefined) {\n  if (typeof pathSegment === 'number') {\n    return pathSegment\n  }\n  const index = findIndex(array, pathSegment)\n  return index === -1 ? false : index\n}\n\nexport function applyPatchToArray(\n  value: Array<JSONValue>,\n  patch: Patch,\n): Array<JSONValue> | undefined {\n  const nextValue = value.slice() // make a copy for internal mutation\n\n  if (patch.path.length === 0) {\n    // its directed to me\n    if (patch.type === 'setIfMissing') {\n      if (!Array.isArray(patch.value)) {\n        throw new Error('Cannot set value of an array to a non-array')\n      }\n\n      return value === undefined ? patch.value : value\n    }\n\n    if (patch.type === 'set') {\n      if (!Array.isArray(patch.value)) {\n        throw new Error('Cannot set value of an array to a non-array')\n      }\n\n      return patch.value\n    }\n\n    if (patch.type === 'unset') {\n      return undefined\n    }\n\n    throw new Error(`Invalid array operation: ${patch.type}`)\n  }\n\n  const [head, ...tail] = patch.path\n\n  const index = findTargetIndex(value, head)\n\n  // If the given selector could not be found, return as-is\n  if (index === false) {\n    return nextValue\n  }\n\n  if (tail.length === 0) {\n    if (patch.type === 'insert') {\n      const {position, items} = patch\n      return insert(value, position, index, items)\n    } else if (patch.type === 'unset') {\n      if (typeof index !== 'number') {\n        throw new Error(\n          `Expected array index to be a number, instead got \"${index}\"`,\n        )\n      }\n      nextValue.splice(index, 1)\n      return nextValue\n    }\n  }\n\n  // The patch is not directed to me\n  nextValue[index] = applyPatch(nextValue[index], {\n    ...patch,\n    path: tail,\n  }) as JSONValue\n\n  return nextValue\n}\n","import type {Patch} from './types'\n\nexport function applyPatchToNumber(value: number, patch: Patch) {\n  if (patch.path.length > 0) {\n    throw new Error(\n      `Cannot apply deep operations on primitive values. Received patch with type \"${\n        patch.type\n      }\" and path \"${patch.path\n        .map((path: any) => JSON.stringify(path))\n        .join('.')} that targeted the value \"${JSON.stringify(value)}\"`,\n    )\n  }\n\n  if (patch.type === 'set') {\n    return patch.value\n  }\n\n  if (patch.type === 'setIfMissing') {\n    return value === undefined ? patch.value : value\n  }\n\n  if (patch.type === 'unset') {\n    return undefined\n  }\n\n  if (patch.type === 'inc') {\n    if (typeof patch.value !== 'number') {\n      throw new Error('Cannot increment with a non-number')\n    }\n\n    return value + patch.value\n  }\n\n  if (patch.type === 'dec') {\n    if (typeof patch.value !== 'number') {\n      throw new Error('Cannot decrement with a non-number')\n    }\n\n    return value - patch.value\n  }\n\n  throw new Error(\n    `Received patch of unsupported type: \"${JSON.stringify(\n      patch.type,\n    )}\" for number. This is most likely a bug.`,\n  )\n}\n","import {clone, omit} from 'lodash'\nimport applyPatch from './applyPatch'\nimport type {JSONValue, Patch} from './types'\n\nexport function applyPatchToObject(\n  value: {[key: string]: JSONValue},\n  patch: Patch,\n): {[key: string]: JSONValue} | undefined {\n  const nextValue = clone(value)\n\n  if (patch.path.length === 0) {\n    // its directed to me\n    if (patch.type === 'set') {\n      if (\n        typeof patch.value === 'object' &&\n        patch.value !== null &&\n        !Array.isArray(patch.value)\n      ) {\n        return patch.value\n      }\n\n      throw new Error('Cannot set value of an object to a non-object')\n    }\n\n    if (patch.type === 'unset') {\n      return undefined\n    }\n\n    throw new Error(`Invalid object operation: ${patch.type}`)\n  }\n\n  // The patch is not directed to me\n  const [head, ...tail] = patch.path\n\n  if (typeof head !== 'string') {\n    throw new Error(`Expected field name to be a string, instead got: ${head}`)\n  }\n\n  if (tail.length === 0 && patch.type === 'unset') {\n    return omit(nextValue, head)\n  }\n\n  nextValue[head] = applyPatch(nextValue[head], {\n    ...patch,\n    path: tail,\n  }) as JSONValue\n\n  return nextValue\n}\n","import type {JSONValue, Patch} from './types'\n\nexport function applyPatchToUnknown(\n  value: unknown,\n  patch: Patch,\n): JSONValue | undefined {\n  if (patch.path.length > 0) {\n    throw new Error(\n      `Cannot apply deep operations on primitive values. Received patch with type \"${\n        patch.type\n      }\" and path \"${patch.path\n        .map((path: any) => JSON.stringify(path))\n        .join('.')} that targeted the value \"${JSON.stringify(value)}\"`,\n    )\n  }\n\n  if (patch.type === 'set') {\n    return patch.value\n  }\n\n  if (patch.type === 'setIfMissing') {\n    return value === undefined ? patch.value : (value as JSONValue)\n  }\n\n  if (patch.type === 'unset') {\n    return undefined\n  }\n\n  throw new Error(\n    `Received patch of unsupported type: \"${JSON.stringify(\n      patch.type,\n    )}\" for primitives. This is most likely a bug.`,\n  )\n}\n","import {applyPatches, parsePatch} from '@sanity/diff-match-patch'\nimport type {Patch} from './types'\n\nexport function applyPatchToString(value: string, patch: Patch) {\n  if (patch.path.length > 0) {\n    throw new Error(\n      `Cannot apply deep operations on string values. Received patch with type \"${\n        patch.type\n      }\" and path \"${patch.path.join('.')} that targeted the value \"${JSON.stringify(value)}\"`,\n    )\n  }\n\n  if (patch.type === 'diffMatchPatch') {\n    const [result] = applyPatches(parsePatch(patch.value), value, {\n      allowExceedingIndices: true,\n    })\n    return result\n  }\n\n  if (patch.type === 'setIfMissing') {\n    return value === undefined ? patch.value : value\n  }\n\n  if (patch.type === 'set') {\n    return patch.value\n  }\n\n  if (patch.type === 'unset') {\n    return undefined\n  }\n\n  throw new Error(\n    `Received patch of unsupported type: \"${JSON.stringify(\n      patch.type,\n    )}\" for string. This is most likely a bug.`,\n  )\n}\n","import {applyPatchToArray} from './array'\nimport {applyPatchToNumber} from './number'\nimport {applyPatchToObject} from './object'\nimport {applyPatchToUnknown} from './primitive'\nimport {applyPatchToString} from './string'\nimport type {JSONValue, Patch} from './types'\n\n/** @beta */\nexport function applyAll<TValue>(value: TValue, patches: Array<Patch>): TValue {\n  return patches.reduce(applyPatch, value) as TValue\n}\n\nexport default function applyPatch(value: unknown, patch: Patch) {\n  if (Array.isArray(value)) {\n    return applyPatchToArray(value, patch)\n  }\n\n  if (typeof value === 'string') {\n    return applyPatchToString(value, patch)\n  }\n\n  if (isObject(value)) {\n    return applyPatchToObject(value, patch)\n  }\n\n  if (typeof value === 'number') {\n    return applyPatchToNumber(value, patch)\n  }\n\n  return applyPatchToUnknown(value, patch)\n}\n\nfunction isObject(value: unknown): value is {[key: string]: JSONValue} {\n  return typeof value === 'object' && value !== null && !Array.isArray(value)\n}\n","import {makePatches, stringifyPatches} from '@sanity/diff-match-patch'\nimport type {\n  DiffMatchPatch,\n  InsertPatch,\n  InsertPosition,\n  Path,\n  PathSegment,\n  SetIfMissingPatch,\n  SetPatch,\n  UnsetPatch,\n} from './types'\n\n/** @public */\nexport function setIfMissing(value: any, path: Path = []): SetIfMissingPatch {\n  return {\n    type: 'setIfMissing',\n    path,\n    value,\n  }\n}\n\n/** @public */\nexport function diffMatchPatch(\n  currentValue: string,\n  nextValue: string,\n  path: Path = [],\n): DiffMatchPatch {\n  const patches = makePatches(currentValue, nextValue)\n  const patch = stringifyPatches(patches)\n  return {type: 'diffMatchPatch', path, value: patch}\n}\n\n/** @public */\nexport function insert(\n  items: any[],\n  position: InsertPosition,\n  path: Path = [],\n): InsertPatch {\n  return {\n    type: 'insert',\n    path,\n    position,\n    items,\n  }\n}\n\n/** @public */\nexport function set(value: any, path: Path = []): SetPatch {\n  return {type: 'set', path, value}\n}\n\n/** @public */\nexport function unset(path: Path = []): UnsetPatch {\n  return {type: 'unset', path}\n}\n\n/** @internal */\nexport function prefixPath<T extends {path: Path}>(\n  patch: T,\n  segment: PathSegment,\n): T {\n  return {\n    ...patch,\n    path: [segment, ...patch.path],\n  }\n}\n"],"names":["insert"],"mappings":"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","debugId":null}},
    {"offset": {"line": 2653, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@portabletext/keyboard-shortcuts/dist/index.js","sources":["file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/keyboard-shortcuts/src/is-apple.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/keyboard-shortcuts/src/is-keyboard-shortcut.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/keyboard-shortcuts/src/keyboard-shortcuts.ts","file:///C:/Users/justc/OneDrive/Desktop/Personal%20Coding%20Projects/Web%20impact/my-website/node_modules/%40portabletext/keyboard-shortcuts/src/common-shortcuts.ts"],"sourcesContent":["export const IS_APPLE =\n  typeof window !== 'undefined' &&\n  /Mac|iPod|iPhone|iPad/.test(window.navigator.userAgent)\n","import type {KeyboardEventDefinition} from './keyboard-event-definition'\n\n/**\n * Checks if a keyboard event matches a keyboard shortcut definition.\n */\nexport function isKeyboardShortcut<\n  TKeyboardEvent extends Pick<\n    KeyboardEvent,\n    'key' | 'code' | 'shiftKey' | 'altKey' | 'ctrlKey' | 'metaKey'\n  > = Pick<\n    KeyboardEvent,\n    'key' | 'code' | 'shiftKey' | 'altKey' | 'ctrlKey' | 'metaKey'\n  >,\n>(definition: KeyboardEventDefinition, event: TKeyboardEvent) {\n  if (!isCorrectModifiers(definition, event)) {\n    return false\n  }\n\n  if (\n    definition.code !== undefined &&\n    definition.code.toLowerCase() === event.code.toLowerCase()\n  ) {\n    return true\n  }\n\n  return (\n    definition.key !== undefined &&\n    definition.key.toLowerCase() === event.key.toLowerCase()\n  )\n}\n\nfunction isCorrectModifiers<\n  TKeyboardEvent extends Pick<\n    KeyboardEvent,\n    'key' | 'code' | 'shiftKey' | 'altKey' | 'ctrlKey' | 'metaKey'\n  > = Pick<\n    KeyboardEvent,\n    'key' | 'code' | 'shiftKey' | 'altKey' | 'ctrlKey' | 'metaKey'\n  >,\n>(definition: KeyboardEventDefinition, event: TKeyboardEvent) {\n  return (\n    (definition.ctrl === event.ctrlKey || definition.ctrl === undefined) &&\n    (definition.meta === event.metaKey || definition.meta === undefined) &&\n    (definition.shift === event.shiftKey || definition.shift === undefined) &&\n    (definition.alt === event.altKey || definition.alt === undefined)\n  )\n}\n","import {IS_APPLE} from './is-apple'\nimport {isKeyboardShortcut} from './is-keyboard-shortcut'\nimport type {KeyboardEventDefinition} from './keyboard-event-definition'\n\n/**\n * @beta\n * Definition of a keyboard shortcut with platform-specific keyboard event\n * definitions.\n *\n * `default` keyboard event definitions are required while the `apple`\n * keyboard event definitions are optional.\n *\n * @example\n * ```typescript\n * const boldShortcut: KeyboardShortcutDefinition = {\n *   default: [{\n *     key: 'B',\n *     alt: false,\n *     ctrl: true,\n *     meta: false,\n *     shift: false,\n *   }],\n *   apple: [{\n *     key: 'B',\n *     alt: false,\n *     ctrl: false,\n *     meta: true,\n *     shift: false,\n *   }],\n * }\n * ```\n */\nexport type KeyboardShortcutDefinition = {\n  default: ReadonlyArray<KeyboardEventDefinition>\n  apple?: ReadonlyArray<KeyboardEventDefinition>\n}\n\n/**\n * @beta\n * A resolved keyboard shortcut for the current platform that has been\n * processed by `createKeyboardShortcut(...)` to select the appropriate\n * platform-specific key combination. The `guard` function determines if the\n * shortcut applies to the current `KeyboardEvent`, while `keys` contains the\n * display-friendly key combination for the current platform.\n */\nexport type KeyboardShortcut<\n  TKeyboardEvent extends Pick<\n    KeyboardEvent,\n    'key' | 'code' | 'altKey' | 'ctrlKey' | 'metaKey' | 'shiftKey'\n  > = Pick<\n    KeyboardEvent,\n    'key' | 'code' | 'altKey' | 'ctrlKey' | 'metaKey' | 'shiftKey'\n  >,\n> = {\n  guard: (event: TKeyboardEvent) => boolean\n  keys: ReadonlyArray<string>\n}\n\n/**\n * @beta\n * Creates a `KeyboardShortcut` from a `KeyboardShortcutDefinition`.\n *\n * `default` keyboard event definitions are required while the `apple`\n * keyboard event definitions are optional.\n *\n * @example\n * ```typescript\n * const shortcut = createKeyboardShortcut({\n *   default: [{\n *     key: 'B',\n *     alt: false,\n *     ctrl: true,\n *     meta: false,\n *     shift: false,\n *   }],\n *   apple: [{\n *     key: 'B',\n *     alt: false,\n *     ctrl: false,\n *     meta: true,\n *     shift: false,\n *   }],\n * })\n * ```\n */\nexport function createKeyboardShortcut<\n  TKeyboardEvent extends Pick<\n    KeyboardEvent,\n    'key' | 'code' | 'altKey' | 'ctrlKey' | 'metaKey' | 'shiftKey'\n  > = Pick<\n    KeyboardEvent,\n    'key' | 'code' | 'altKey' | 'ctrlKey' | 'metaKey' | 'shiftKey'\n  >,\n>(definition: KeyboardShortcutDefinition): KeyboardShortcut<TKeyboardEvent> {\n  if (IS_APPLE) {\n    const appleDefinition = definition.apple ?? definition.default\n    const firstDefinition = appleDefinition.at(0)\n\n    return {\n      guard: (event) =>\n        appleDefinition.some((definition) =>\n          isKeyboardShortcut(definition, event),\n        ),\n      keys: [\n        ...(firstDefinition?.meta ? [''] : []),\n        ...(firstDefinition?.ctrl ? ['Ctrl'] : []),\n        ...(firstDefinition?.alt ? ['Option'] : []),\n        ...(firstDefinition?.shift ? ['Shift'] : []),\n        ...(firstDefinition?.key !== undefined\n          ? [firstDefinition.key]\n          : firstDefinition?.code !== undefined\n            ? [firstDefinition.code]\n            : []),\n      ],\n    }\n  }\n\n  const firstDefinition = definition.default.at(0)\n\n  return {\n    guard: (event) =>\n      definition.default.some((definition) =>\n        isKeyboardShortcut(definition, event),\n      ),\n    keys: [\n      ...(firstDefinition?.meta ? ['Meta'] : []),\n      ...(firstDefinition?.ctrl ? ['Ctrl'] : []),\n      ...(firstDefinition?.alt ? ['Alt'] : []),\n      ...(firstDefinition?.shift ? ['Shift'] : []),\n      ...(firstDefinition?.key !== undefined\n        ? [firstDefinition.key]\n        : firstDefinition?.code !== undefined\n          ? [firstDefinition.code]\n          : []),\n    ],\n  }\n}\n","import {createKeyboardShortcut} from './keyboard-shortcuts'\n\n/**\n * @beta\n */\nexport const bold = createKeyboardShortcut({\n  default: [\n    {\n      key: 'B',\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: 'B',\n      alt: false,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const italic = createKeyboardShortcut({\n  default: [\n    {\n      key: 'I',\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: 'I',\n      alt: false,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const code = createKeyboardShortcut({\n  default: [\n    {\n      key: \"'\",\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: \"'\",\n      alt: false,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const underline = createKeyboardShortcut({\n  default: [\n    {\n      key: 'U',\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: 'U',\n      alt: false,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const strikeThrough = createKeyboardShortcut({\n  default: [\n    {\n      key: 'X',\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: true,\n    },\n  ],\n  apple: [\n    {\n      key: 'X',\n      alt: false,\n      ctrl: false,\n      meta: true,\n      shift: true,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const link = createKeyboardShortcut({\n  default: [\n    {\n      key: 'K',\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: 'K',\n      alt: false,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const normal = createKeyboardShortcut({\n  default: [\n    {\n      key: '0',\n      code: 'Digit0',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n    {\n      key: '0',\n      code: 'Numpad0',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: '0',\n      code: 'Digit0',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n    {\n      key: '0',\n      code: 'Numpad0',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const h1 = createKeyboardShortcut({\n  default: [\n    {\n      key: '1',\n      code: 'Digit1',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n    {\n      key: '1',\n      code: 'Numpad1',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: '1',\n      code: 'Digit1',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n    {\n      key: '1',\n      code: 'Numpad1',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const h2 = createKeyboardShortcut({\n  default: [\n    {\n      key: '2',\n      code: 'Digit2',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n    {\n      key: '2',\n      code: 'Numpad2',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: '2',\n      code: 'Digit2',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n    {\n      key: '2',\n      code: 'Numpad2',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const h3 = createKeyboardShortcut({\n  default: [\n    {\n      key: '3',\n      code: 'Digit3',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n    {\n      key: '3',\n      code: 'Numpad3',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: '3',\n      code: 'Digit3',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n    {\n      key: '3',\n      code: 'Numpad3',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const h4 = createKeyboardShortcut({\n  default: [\n    {\n      key: '4',\n      code: 'Digit4',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n    {\n      key: '4',\n      code: 'Numpad4',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: '4',\n      code: 'Digit4',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n    {\n      key: '4',\n      code: 'Numpad4',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const h5 = createKeyboardShortcut({\n  default: [\n    {\n      key: '5',\n      code: 'Digit5',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n    {\n      key: '5',\n      code: 'Numpad5',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: '5',\n      code: 'Digit5',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n    {\n      key: '5',\n      code: 'Numpad5',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const h6 = createKeyboardShortcut({\n  default: [\n    {\n      key: '6',\n      code: 'Digit6',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n    {\n      key: '6',\n      code: 'Numpad6',\n      alt: true,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: '6',\n      code: 'Digit6',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n    {\n      key: '6',\n      code: 'Numpad6',\n      alt: true,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const blockquote = createKeyboardShortcut({\n  default: [\n    {\n      key: 'Q',\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: true,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const undo = createKeyboardShortcut({\n  default: [\n    {\n      key: 'Z',\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n  ],\n  apple: [\n    {\n      key: 'Z',\n      alt: false,\n      ctrl: false,\n      meta: true,\n      shift: false,\n    },\n  ],\n})\n\n/**\n * @beta\n */\nexport const redo = createKeyboardShortcut({\n  default: [\n    {\n      key: 'Y',\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: false,\n    },\n    {\n      key: 'Z',\n      alt: false,\n      ctrl: true,\n      meta: false,\n      shift: true,\n    },\n  ],\n  apple: [\n    {\n      key: 'Z',\n      alt: false,\n      ctrl: false,\n      meta: true,\n      shift: true,\n    },\n  ],\n})\n"],"names":["IS_APPLE","window","test","navigator","userAgent","isKeyboardShortcut","definition","event","isCorrectModifiers","code","undefined","toLowerCase","key","ctrl","ctrlKey","meta","metaKey","shift","shiftKey","alt","altKey","createKeyboardShortcut","appleDefinition","apple","default","firstDefinition","at","guard","some","keys","bold","italic","underline","strikeThrough","link","normal","h1","h2","h3","h4","h5","h6","blockquote","undo","redo"],"mappings":"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","debugId":null}}]
}